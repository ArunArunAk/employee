"use strict";(self.webpackChunkvictory=self.webpackChunkvictory||[]).push([[179],{450:()=>{function de(t){return"function"==typeof t}function ea(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ec=ea(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ps(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class At{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(de(r))try{r()}catch(s){e=s instanceof Ec?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{tb(s)}catch(o){e=e??[],o instanceof Ec?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ec(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tb(e);else{if(e instanceof At){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ps(n,e)}remove(e){const{_finalizers:n}=this;n&&ps(n,e),e instanceof At&&e._removeParent(this)}}At.EMPTY=(()=>{const t=new At;return t.closed=!0,t})();const JI=At.EMPTY;function eb(t){return t instanceof At||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function tb(t){de(t)?t():t.unsubscribe()}const Ci={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cc={setTimeout(t,e,...n){const{delegate:r}=Cc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Cc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nb(t){Cc.setTimeout(()=>{const{onUnhandledError:e}=Ci;if(!e)throw t;e(t)})}function wh(){}const WL=Ih("C",void 0,void 0);function Ih(t,e,n){return{kind:t,value:e,error:n}}let wi=null;function wc(t){if(Ci.useDeprecatedSynchronousErrorHandling){const e=!wi;if(e&&(wi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=wi;if(wi=null,n)throw r}}else t()}class bh extends At{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eb(e)&&e.add(this)):this.destination=XL}static create(e,n,r){return new ta(e,n,r)}next(e){this.isStopped?Th(function qL(t){return Ih("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Th(function zL(t){return Ih("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Th(WL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const YL=Function.prototype.bind;function Dh(t,e){return YL.call(t,e)}class QL{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ic(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ic(r)}else Ic(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ic(n)}}}class ta extends bh{constructor(e,n,r){let i;if(super(),de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ci.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dh(e.next,s),error:e.error&&Dh(e.error,s),complete:e.complete&&Dh(e.complete,s)}):i=e}this.destination=new QL(i)}}function Ic(t){Ci.useDeprecatedSynchronousErrorHandling?function KL(t){Ci.useDeprecatedSynchronousErrorHandling&&wi&&(wi.errorThrown=!0,wi.error=t)}(t):nb(t)}function Th(t,e){const{onStoppedNotification:n}=Ci;n&&Cc.setTimeout(()=>n(t,e))}const XL={closed:!0,next:wh,error:function ZL(t){throw t},complete:wh},Sh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fr(t){return t}function rb(t){return 0===t.length?Fr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let De=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function tV(t){return t&&t instanceof bh||function eV(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}(t)&&eb(t)}(n)?n:new ta(n,r,i);return wc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ib(r))((i,s)=>{const o=new ta({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Sh](){return this}pipe(...n){return rb(n)(this)}toPromise(n){return new(n=ib(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ib(t){var e;return null!==(e=t??Ci.Promise)&&void 0!==e?e:Promise}const nV=ea(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let hn=(()=>{class t extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new sb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nV}next(n){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?JI:(this.currentObservers=null,s.push(n),new At(()=>{this.currentObservers=null,ps(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new De;return n.source=this,n}}return t.create=(e,n)=>new sb(e,n),t})();class sb extends hn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:JI}}function ob(t){return de(t?.lift)}function $e(t){return e=>{if(ob(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(t,e,n,r,i){return new rV(t,e,n,r,i)}class rV extends bh{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Q(t,e){return $e((n,r)=>{let i=0;n.subscribe(Ue(r,s=>{r.next(t.call(e,s,i++))}))})}function Rh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function ub(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ph(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const db=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fb(t){return de(t?.then)}function hb(t){return de(t[Sh])}function pb(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function gb(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mb=function bV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _b(t){return de(t?.[mb])}function yb(t){return function cb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){s.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof Lr?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function vb(t){return de(t?.getReader)}function Bt(t){if(t instanceof De)return t;if(null!=t){if(hb(t))return function DV(t){return new De(e=>{const n=t[Sh]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(db(t))return function TV(t){return new De(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fb(t))return function SV(t){return new De(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nb)})}(t);if(pb(t))return Eb(t);if(_b(t))return function AV(t){return new De(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(vb(t))return function MV(t){return Eb(yb(t))}(t)}throw gb(t)}function Eb(t){return new De(e=>{(function RV(t,e){var n,r,i,s;return function ab(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ub(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function rr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ze(t,e,n=1/0){return de(e)?Ze((r,i)=>Q((s,o)=>e(r,s,i,o))(Bt(t(r,i))),n):("number"==typeof e&&(n=e),$e((r,i)=>function NV(t,e,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&e.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Bt(n(g,u++)).subscribe(Ue(e,y=>{i?.(y),s?h(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const y=l.shift();o?rr(e,o,()=>p(y)):p(y)}f()}catch(y){e.error(y)}}))};return t.subscribe(Ue(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function gs(t=1/0){return Ze(Fr,t)}const Mn=new De(t=>t.complete());function kh(t){return t[t.length-1]}function Cb(t){return de(kh(t))?t.pop():void 0}function na(t){return function kV(t){return t&&de(t.schedule)}(kh(t))?t.pop():void 0}function bc(t,e=0){return $e((n,r)=>{n.subscribe(Ue(r,i=>rr(r,t,()=>r.next(i),e),()=>rr(r,t,()=>r.complete(),e),i=>rr(r,t,()=>r.error(i),e)))})}function Dc(t,e=0){return $e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function wb(t,e){if(!t)throw new Error("Iterable cannot be null");return new De(n=>{rr(n,e,()=>{const r=t[Symbol.asyncIterator]();rr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function He(t,e){return e?function jV(t,e){if(null!=t){if(hb(t))return function OV(t,e){return Bt(t).pipe(Dc(e),bc(e))}(t,e);if(db(t))return function LV(t,e){return new De(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fb(t))return function FV(t,e){return Bt(t).pipe(Dc(e),bc(e))}(t,e);if(pb(t))return wb(t,e);if(_b(t))return function VV(t,e){return new De(n=>{let r;return rr(n,e,()=>{r=t[mb](),rr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}(t,e);if(vb(t))return function UV(t,e){return wb(yb(t),e)}(t,e)}throw gb(t)}(t,e):Bt(t)}class tn extends hn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function P(...t){return He(t,na(t))}function Ib(t={}){const{connector:e=(()=>new hn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=d=!1},p=()=>{const g=o;h(),g?.unsubscribe()};return $e((g,m)=>{c++,!d&&!u&&f();const y=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=xh(p,i))}),y.subscribe(m),!o&&c>0&&(o=new ta({next:_=>y.next(_),error:_=>{d=!0,f(),a=xh(h,n,_),y.error(_)},complete:()=>{u=!0,f(),a=xh(h,r),y.complete()}}),Bt(g).subscribe(o))})(s)}}function xh(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ta({next:()=>{r.unsubscribe(),t()}});return Bt(e(...n)).subscribe(r)}function pn(t,e){return $e((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ue(r,l=>{i?.unsubscribe();let c=0;const u=s++;Bt(t(l,u)).subscribe(i=Ue(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function HV(t,e){return t===e}function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function Tc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Oh(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const GV=se({__forward_ref__:se});function ge(t){return t.__forward_ref__=ge,t.toString=function(){return Ge(this())},t}function O(t){return Fh(t)?t():t}function Fh(t){return"function"==typeof t&&t.hasOwnProperty(GV)&&t.__forward_ref__===ge}function Lh(t){return t&&!!t.\u0275providers}class C extends Error{constructor(e,n){super(function Sc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function L(t){return"string"==typeof t?t:null==t?"":String(t)}function Vh(t,e){throw new C(-201,!1)}function nn(t,e){null==t&&function k(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ac(t){return Db(t,Rc)||Db(t,Tb)}function Db(t,e){return t.hasOwnProperty(e)?t[e]:null}function Mc(t){return t&&(t.hasOwnProperty(Uh)||t.hasOwnProperty(XV))?t[Uh]:null}const Rc=se({\u0275prov:se}),Uh=se({\u0275inj:se}),Tb=se({ngInjectableDef:se}),XV=se({ngInjectorDef:se});var q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{});let jh;function Rt(t){const e=jh;return jh=t,e}function Ab(t,e,n){const r=Ac(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void Vh(Ge(t))}const me=globalThis,ra={},Wh="__NG_DI_FLAG__",Nc="ngTempTokenPath",tU=/\n/gm,Rb="__source";let ms;function Vr(t){const e=ms;return ms=t,e}function iU(t,e=q.Default){if(void 0===ms)throw new C(-203,!1);return null===ms?Ab(t,void 0,e):ms.get(t,e&q.Optional?null:void 0,e)}function R(t,e=q.Default){return(function Sb(){return jh}()||iU)(O(t),e)}function A(t,e=q.Default){return R(t,Pc(e))}function Pc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zh(t){const e=[];for(let n=0;n<t.length;n++){const r=O(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],l=sU(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function ia(t,e){return t[Wh]=e,t.prototype[Wh]=e,t}function sU(t){return t[Wh]}function ir(t){return{toString:t}.toString()}var kc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kc||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{});const Rn={},J=[],xc=se({\u0275cmp:se}),qh=se({\u0275dir:se}),Kh=se({\u0275pipe:se}),Pb=se({\u0275mod:se}),sr=se({\u0275fac:se}),sa=se({__NG_ELEMENT_ID__:se}),kb=se({__NG_ENV_ID__:se});function xb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Yh(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];Fb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Ob(t){return 3===t||4===t||6===t}function Fb(t){return 64===t.charCodeAt(0)}function oa(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Lb(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Lb(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Vb="ng-template";function lU(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==xb(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Ub(t){return 4===t.type&&t.value!==Vb}function cU(t,e,n){return e===(4!==t.type||n?t.value:Vb)}function uU(t,e,n){let r=4;const i=t.attrs||[],s=function hU(t){for(let e=0;e<t.length;e++)if(Ob(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!cU(t,l,n)||""===l&&1===e.length){if(mn(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!lU(t.attrs,c,n)){if(mn(r))return!1;o=!0}continue}const d=dU(8&r?"class":l,i,Ub(t),n);if(-1===d){if(mn(r))return!1;o=!0;continue}if(""!==c){let f;f=d>s?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==xb(h,c,0)||2&r&&c!==f){if(mn(r))return!1;o=!0}}}}else{if(!o&&!mn(r)&&!mn(l))return!1;if(o&&mn(l))continue;o=!1,r=l|1&r}}return mn(r)||o}function mn(t){return 0==(1&t)}function dU(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function pU(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jb(t,e,n=!1){for(let r=0;r<e.length;r++)if(uU(t,e[r],n))return!0;return!1}function Bb(t,e){return t?":not("+e.trim()+")":e}function mU(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mn(o)&&(e+=Bb(s,i),i=""),r=o,s=s||!mn(r);n++}return""!==i&&(e+=Bb(s,i)),e}function Oc(t){return ir(()=>{const e=Hb(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||J,_:null,schemas:t.schemas||null,tView:null,id:""};Gb(n);const r=t.dependencies;return n.directiveDefs=Fc(r,!1),n.pipeDefs=Fc(r,!0),n.id=function bU(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function EU(t){return Z(t)||Xe(t)}function CU(t){return null!==t}function Ht(t){return ir(()=>({type:t.type,bootstrap:t.bootstrap||J,declarations:t.declarations||J,imports:t.imports||J,exports:t.exports||J,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $b(t,e){if(null==t)return Rn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function F(t){return ir(()=>{const e=Hb(t);return Gb(e),e})}function Z(t){return t[xc]||null}function Xe(t){return t[qh]||null}function gt(t){return t[Kh]||null}function Gt(t,e){const n=t[Pb]||null;if(!n&&!0===e)throw new Error(`Type ${Ge(t)} does not have '\u0275mod' property.`);return n}function Hb(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Rn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||J,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$b(t.inputs,e),outputs:$b(t.outputs)}}function Gb(t){t.features?.forEach(e=>e(t))}function Fc(t,e){if(!t)return null;const n=e?gt:EU;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(CU)}const Me=0,D=1,B=2,we=3,_n=4,aa=5,lt=6,ys=7,xe=8,Ur=9,vs=10,V=11,la=12,Wb=13,Es=14,Oe=15,ca=16,Cs=17,Nn=18,ua=19,zb=20,jr=21,or=22,da=23,fa=24,K=25,Qh=1,qb=2,Pn=7,ws=9,Je=11;function Pt(t){return Array.isArray(t)&&"object"==typeof t[Qh]}function mt(t){return Array.isArray(t)&&!0===t[Qh]}function Zh(t){return 0!=(4&t.flags)}function bi(t){return t.componentOffset>-1}function Vc(t){return 1==(1&t.flags)}function yn(t){return!!t.template}function Xh(t){return 0!=(512&t[B])}function Di(t,e){return t.hasOwnProperty(sr)?t[sr]:null}let et=null,Uc=!1;function rn(t){const e=et;return et=t,e}const Qb={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Xb(t){if(!pa(t)||t.dirty){if(!t.producerMustRecompute(t)&&!tD(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function eD(t){t.dirty=!0,function Jb(t){if(void 0===t.liveConsumerNode)return;const e=Uc;Uc=!0;try{for(const n of t.liveConsumerNode)n.dirty||eD(n)}finally{Uc=e}}(t),t.consumerMarkedDirty?.(t)}function ep(t){return t&&(t.nextProducerIndex=0),rn(t)}function tp(t,e){if(rn(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(pa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)jc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function tD(t){Is(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Xb(n),r!==n.version))return!0}return!1}function nD(t){if(Is(t),pa(t))for(let e=0;e<t.producerNode.length;e++)jc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function jc(t,e){if(function iD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Is(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)jc(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Is(i),i.producerIndexOfThis[r]=e}}function pa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Is(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let sD=null;const cD=()=>{},LU=(()=>({...Qb,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:cD}))();class VU{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sn(){return uD}function uD(t){return t.type.prototype.ngOnChanges&&(t.setInput=jU),UU}function UU(){const t=fD(this),e=t?.current;if(e){const n=t.previous;if(n===Rn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function jU(t,e,n,r){const i=this.declaredInputs[n],s=fD(t)||function BU(t,e){return t[dD]=e}(t,{previous:Rn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new VU(l&&l.currentValue,e,a===Rn),t[r]=e}sn.ngInherit=!0;const dD="__ngSimpleChanges__";function fD(t){return t[dD]||null}const kn=function(t,e,n){};function _e(t){for(;Array.isArray(t);)t=t[Me];return t}function Bc(t,e){return _e(e[t])}function kt(t,e){return _e(e[t.index])}function gD(t,e){return t.data[e]}function Wt(t,e){const n=e[t];return Pt(n)?n:n[Me]}function $r(t,e){return null==e?null:t[e]}function mD(t){t[Cs]=0}function qU(t){1024&t[B]||(t[B]|=1024,yD(t,1))}function _D(t){1024&t[B]&&(t[B]&=-1025,yD(t,-1))}function yD(t,e){let n=t[we];if(null===n)return;n[aa]+=e;let r=n;for(n=n[we];null!==n&&(1===e&&1===r[aa]||-1===e&&0===r[aa]);)n[aa]+=e,r=n,n=n[we]}const x={lFrame:MD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function CD(){return x.bindingsEnabled}function E(){return x.lFrame.lView}function X(){return x.lFrame.tView}function ga(t){return x.lFrame.contextLView=t,t[xe]}function ma(t){return x.lFrame.contextLView=null,t}function tt(){let t=wD();for(;null!==t&&64===t.type;)t=t.parent;return t}function wD(){return x.lFrame.currentTNode}function xn(t,e){const n=x.lFrame;n.currentTNode=t,n.isParent=e}function op(){return x.lFrame.isParent}function Ts(){return x.lFrame.bindingIndex++}function s2(t,e){const n=x.lFrame;n.bindingIndex=n.bindingRootIndex=t,lp(e)}function lp(t){x.lFrame.currentDirectiveIndex=t}function up(t){x.lFrame.currentQueryIndex=t}function a2(t){const e=t[D];return 2===e.type?e.declTNode:1===e.type?t[lt]:null}function SD(t,e,n){if(n&q.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&q.Host||(i=a2(s),null===i||(s=s[Es],10&i.type))););if(null===i)return!1;e=i,t=s}const r=x.lFrame=AD();return r.currentTNode=e,r.lView=t,!0}function dp(t){const e=AD(),n=t[D];x.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AD(){const t=x.lFrame,e=null===t?null:t.child;return null===e?MD(t):e}function MD(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function RD(){const t=x.lFrame;return x.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ND=RD;function fp(){const t=RD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yt(){return x.lFrame.selectedIndex}function Ti(t){x.lFrame.selectedIndex=t}let kD=!0;function $c(){return kD}function Hr(t){kD=t}function Hc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Gc(t,e,n){xD(t,e,3,n)}function Wc(t,e,n,r){(3&t[B])===n&&xD(t,e,n,r)}function hp(t,e){let n=t[B];(3&n)===e&&(n&=8191,n+=1,t[B]=n)}function xD(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Cs]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Cs]+=65536),(a<s||-1==s)&&(g2(t,n,e,l),t[Cs]=(4294901760&t[Cs])+l+2),l++}function OD(t,e){kn(4,t,e);const n=rn(null);try{e.call(t)}finally{rn(n),kn(5,t,e)}}function g2(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[B]>>13<t[Cs]>>16&&(3&t[B])===e&&(t[B]+=8192,OD(a,s)):OD(a,s)}const Ss=-1;class ya{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function gp(t){return t!==Ss}function va(t){return 32767&t}function Ea(t,e){let n=function v2(t){return t>>16}(t),r=e;for(;n>0;)r=r[Es],n--;return r}let mp=!0;function zc(t){const e=mp;return mp=t,e}const FD=255,LD=5;let E2=0;const On={};function qc(t,e){const n=VD(t,e);if(-1!==n)return n;const r=e[D];r.firstCreatePass&&(t.injectorIndex=e.length,_p(r.data,t),_p(e,null),_p(r.blueprint,null));const i=Kc(t,e),s=t.injectorIndex;if(gp(i)){const o=va(i),a=Ea(i,e),l=a[D].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function _p(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VD(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Kc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=WD(i),null===r)return Ss;if(n++,i=i[Es],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ss}function yp(t,e,n){!function C2(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(sa)&&(r=n[sa]),null==r&&(r=n[sa]=E2++);const i=r&FD;e.data[t+(i>>LD)]|=1<<i}(t,e,n)}function UD(t,e,n){if(n&q.Optional||void 0!==t)return t;Vh()}function jD(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),!(n&(q.Self|q.Host))){const i=t[Ur],s=Rt(void 0);try{return i?i.get(e,r,n&q.Optional):Ab(e,r,n&q.Optional)}finally{Rt(s)}}return UD(r,0,n)}function BD(t,e,n,r=q.Default,i){if(null!==t){if(2048&e[B]&&!(r&q.Self)){const o=function S2(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[B]&&!(512&o[B]);){const a=$D(s,o,n,r|q.Self,On);if(a!==On)return a;let l=s.parent;if(!l){const c=o[zb];if(c){const u=c.get(n,On,r);if(u!==On)return u}l=WD(o),o=o[Es]}s=l}return i}(t,e,n,r,On);if(o!==On)return o}const s=$D(t,e,n,r,On);if(s!==On)return s}return jD(e,n,r,i)}function $D(t,e,n,r,i){const s=function b2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(sa)?t[sa]:void 0;return"number"==typeof e?e>=0?e&FD:T2:e}(n);if("function"==typeof s){if(!SD(e,t,r))return r&q.Host?UD(i,0,r):jD(e,n,r,i);try{let o;if(o=s(r),null!=o||r&q.Optional)return o;Vh()}finally{ND()}}else if("number"==typeof s){let o=null,a=VD(t,e),l=Ss,c=r&q.Host?e[Oe][lt]:null;for((-1===a||r&q.SkipSelf)&&(l=-1===a?Kc(t,e):e[a+8],l!==Ss&&GD(r,!1)?(o=e[D],a=va(l),e=Ea(l,e)):a=-1);-1!==a;){const u=e[D];if(HD(s,a,u.data)){const d=I2(a,e,n,o,r,c);if(d!==On)return d}l=e[a+8],l!==Ss&&GD(r,e[D].data[a+8]===c)&&HD(s,a,e)?(o=u,a=va(l),e=Ea(l,e)):a=-1}}return i}function I2(t,e,n,r,i,s){const o=e[D],a=o.data[t+8],u=function Yc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=o[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=o[l];if(h&&yn(h)&&h.type===n)return l}return null}(a,o,n,null==r?bi(a)&&mp:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==u?Si(e,o,u,a):On}function Si(t,e,n,r){let i=t[n];const s=e.data;if(function m2(t){return t instanceof ya}(i)){const o=i;o.resolving&&function WV(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():L(t)}(s[n]));const a=zc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Rt(o.injectImpl):null;SD(t,r,q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function p2(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=uD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Rt(c),zc(a),o.resolving=!1,ND()}}return i}function HD(t,e,n){return!!(n[e+(t>>LD)]&1<<t)}function GD(t,e){return!(t&q.Self||t&q.Host&&e)}class vt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BD(this._tNode,this._lView,e,Pc(r),n)}}function T2(){return new vt(tt(),E())}function nt(t){return ir(()=>{const e=t.prototype.constructor,n=e[sr]||vp(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[sr]||vp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function vp(t){return Fh(t)?()=>{const e=vp(O(t));return e&&e()}:Di(t)}function WD(t){const e=t[D],n=e.type;return 2===n?e.declTNode:1===n?t[lt]:null}const Ms="__parameters__";function Ns(t,e,n){return ir(()=>{const r=function Ep(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Ms)?l[Ms]:Object.defineProperty(l,Ms,{value:[]})[Ms];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ks(t,e){t.forEach(n=>Array.isArray(n)?ks(n,e):e(n))}function qD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zt(t,e,n){let r=xs(t,e);return r>=0?t[1|r]=n:(r=~r,function x2(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Cp(t,e){const n=xs(t,e);if(n>=0)return t[1|n]}function xs(t,e){return function KD(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const xt=ia(Ns("Optional"),8),Jc=ia(Ns("SkipSelf"),4);function iu(t){return 128==(128&t.flags)}var Gr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gr||{});const Tp=new Map;let ij=0;const Ap="__ngContext__";function ct(t,e){Pt(e)?(t[Ap]=e[ua],function oj(t){Tp.set(t[ua],t)}(e)):t[Ap]=e}let Mp;function Rp(t,e){return Mp(t,e)}function Ta(t){const e=t[we];return mt(e)?e[we]:e}function pT(t){return mT(t[la])}function gT(t){return mT(t[_n])}function mT(t){for(;null!==t&&!mt(t);)t=t[_n];return t}function Ls(t,e,n,r,i){if(null!=r){let s,o=!1;mt(r)?s=r:Pt(r)&&(o=!0,r=r[Me]);const a=_e(r);0===t&&null!==n?null==i?ET(e,n,a):Ai(e,n,a,i||null,!0):1===t&&null!==n?Ai(e,n,a,i||null,!0):2===t?function du(t,e,n){const r=cu(t,e);r&&function Dj(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Aj(t,e,n,r,i){const s=n[Pn];s!==_e(n)&&Ls(e,t,r,s,i);for(let a=Je;a<n.length;a++){const l=n[a];Aa(l[D],l,t,e,r,s)}}(e,t,s,n,i)}}function au(t,e,n){return t.createElement(e,n)}function yT(t,e){const n=t[ws],r=n.indexOf(e);_D(e),n.splice(r,1)}function lu(t,e){if(t.length<=Je)return;const n=Je+e,r=t[n];if(r){const i=r[ca];null!==i&&i!==t&&yT(i,r),e>0&&(t[n-1][_n]=r[_n]);const s=Zc(t,Je+e);!function _j(t,e){Aa(t,e,e[V],2,null,null),e[Me]=null,e[lt]=null}(r[D],r);const o=s[Nn];null!==o&&o.detachView(s[D]),r[we]=null,r[_n]=null,r[B]&=-129}return r}function Pp(t,e){if(!(256&e[B])){const n=e[V];e[da]&&nD(e[da]),e[fa]&&nD(e[fa]),n.destroyNode&&Aa(t,e,n,3,null,null),function Ej(t){let e=t[la];if(!e)return kp(t[D],t);for(;e;){let n=null;if(Pt(e))n=e[la];else{const r=e[Je];r&&(n=r)}if(!n){for(;e&&!e[_n]&&e!==t;)Pt(e)&&kp(e[D],e),e=e[we];null===e&&(e=t),Pt(e)&&kp(e[D],e),n=e&&e[_n]}e=n}}(e)}}function kp(t,e){if(!(256&e[B])){e[B]&=-129,e[B]|=256,function bj(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ya)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];kn(4,a,l);try{l.call(a)}finally{kn(5,a,l)}}else{kn(4,i,s);try{s.call(i)}finally{kn(5,i,s)}}}}}(t,e),function Ij(t,e){const n=t.cleanup,r=e[ys];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[ys]=null);const i=e[jr];if(null!==i){e[jr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[D].type&&e[V].destroy();const n=e[ca];if(null!==n&&mt(e[we])){n!==e[we]&&yT(n,e);const r=e[Nn];null!==r&&r.detachView(t)}!function aj(t){Tp.delete(t[ua])}(e)}}function xp(t,e,n){return function vT(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Me];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===gn.None||s===gn.Emulated)return null}return kt(r,n)}}(t,e.parent,n)}function Ai(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ET(t,e,n){t.appendChild(e,n)}function CT(t,e,n,r,i){null!==r?Ai(t,e,n,r,i):ET(t,e,n)}function cu(t,e){return t.parentNode(e)}let Op,Up,bT=function IT(t,e,n){return 40&t.type?kt(t,n):null};function uu(t,e,n,r){const i=xp(t,r,e),s=e[V],a=function wT(t,e,n){return bT(t,e,n)}(r.parent||e[lt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)CT(s,i,n[l],a,!1);else CT(s,i,n,a,!1);void 0!==Op&&Op(s,r,e,n,i)}function Sa(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Fp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Sa(t,r);{const i=t[e.index];return mt(i)?Fp(-1,i):_e(i)}}if(32&n)return Rp(e,t)()||_e(t[e.index]);{const r=TT(t,e);return null!==r?Array.isArray(r)?r[0]:Sa(Ta(t[Oe]),r):Sa(t,e.next)}}return null}function TT(t,e){return null!==e?t[Oe][lt].projection[e.projection]:null}function Fp(t,e){const n=Je+t+1;if(n<e.length){const r=e[n],i=r[D].firstChild;if(null!==i)return Sa(r,i)}return e[Pn]}function Lp(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&ct(_e(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Lp(t,e,n.child,r,i,s,!1),Ls(e,t,i,a,s);else if(32&l){const c=Rp(n,r);let u;for(;u=c();)Ls(e,t,i,u,s);Ls(e,t,i,a,s)}else 16&l?AT(t,e,r,n,i,s):Ls(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Aa(t,e,n,r,i,s){Lp(n,r,t.firstChild,e,i,s,!1)}function AT(t,e,n,r,i,s){const o=n[Oe],l=o[lt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ls(e,t,i,l[c],s);else{let c=l;const u=o[we];iu(r)&&(c.flags|=128),Lp(t,e,c,u,i,s,!0)}}function MT(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function RT(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Yh(t,e,r),null!==i&&MT(t,e,i),null!==s&&function Rj(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class xT{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class T{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pa=new T("ENVIRONMENT_INITIALIZER"),GT=new T("INJECTOR",-1),WT=new T("INJECTOR_DEF_TYPES");class Wp{get(e,n=ra){if(n===ra){const r=new Error(`NullInjectorError: No provider for ${Ge(e)}!`);throw r.name="NullInjectorError",r}return n}}function rB(...t){return{\u0275providers:zT(0,t),\u0275fromNgModule:!0}}function zT(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return ks(e,o=>{const a=o;gu(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&qT(i,s),n}function qT(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];qp(i,s=>{e(s,r)})}}function gu(t,e,n,r){if(!(t=O(t)))return!1;let i=null,s=Mc(t);const o=!s&&Z(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=Mc(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)gu(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ks(s.imports,u=>{gu(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&qT(c,e)}if(!a){const c=Di(i)||(()=>new i);e({provide:i,useFactory:c,deps:J},i),e({provide:WT,useValue:i,multi:!0},i),e({provide:Pa,useValue:()=>R(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=t;qp(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function qp(t,e){for(let n of t)Lh(n)&&(n=n.\u0275providers),Array.isArray(n)?qp(n,e):e(n)}const iB=se({provide:String,useValue:se});function Kp(t){return null!==t&&"object"==typeof t&&iB in t}function Mi(t){return"function"==typeof t}const Yp=new T("Set Injector scope."),mu={},oB={};let Qp;function _u(){return void 0===Qp&&(Qp=new Wp),Qp}class qt{}class yu extends qt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xp(e,o=>this.processProvider(o)),this.records.set(GT,Bs(void 0,this)),i.has("environment")&&this.records.set(qt,Bs(void 0,this));const s=this.records.get(Yp);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(WT.multi,J,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Vr(this),r=Rt(void 0);try{return e()}finally{Vr(n),Rt(r)}}get(e,n=ra,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kb))return e[kb](this);r=Pc(r);const s=Vr(this),o=Rt(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function dB(t){return"function"==typeof t||"object"==typeof t&&t instanceof T}(e)&&Ac(e);l=c&&this.injectableDefInScope(c)?Bs(Zp(e),mu):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&q.Self?_u():this.parent).get(e,n=r&q.Optional&&n===ra?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Nc]=a[Nc]||[]).unshift(Ge(e)),s)throw a;return function oU(t,e,n,r){const i=t[Nc];throw e[Rb]&&i.unshift(e[Rb]),t.message=function aU(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ge(e);if(Array.isArray(e))i=e.map(Ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tU,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Nc]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Rt(o),Vr(s)}}resolveInjectorInitializers(){const e=Vr(this),n=Rt(void 0);try{const i=this.get(Pa.multi,J,q.Self);for(const s of i)s()}finally{Vr(e),Rt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ge(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=Mi(e=O(e))?e:O(e&&e.provide);const r=function lB(t){return Kp(t)?Bs(void 0,t.useValue):Bs(QT(t),mu)}(e);if(Mi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Bs(void 0,mu,!0),i.factory=()=>zh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===mu&&(n.value=oB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function uB(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=O(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Zp(t){const e=Ac(t),n=null!==e?e.factory:Di(t);if(null!==n)return n;if(t instanceof T)throw new C(204,!1);if(t instanceof Function)return function aB(t){const e=t.length;if(e>0)throw function Ia(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function ZV(t){return t&&(t[Rc]||t[Tb])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function QT(t,e,n){let r;if(Mi(t)){const i=O(t);return Di(i)||Zp(i)}if(Kp(t))r=()=>O(t.useValue);else if(function YT(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...zh(t.deps||[]));else if(function KT(t){return!(!t||!t.useExisting)}(t))r=()=>R(O(t.useExisting));else{const i=O(t&&(t.useClass||t.provide));if(!function cB(t){return!!t.deps}(t))return Di(i)||Zp(i);r=()=>new i(...zh(t.deps))}return r}function Bs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Xp(t,e){for(const n of t)Array.isArray(n)?Xp(n,e):n&&Lh(n)?Xp(n.\u0275providers,e):e(n)}const vu=new T("AppId",{providedIn:"root",factory:()=>fB}),fB="ng",ZT=new T("Platform Initializer"),ur=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XT=new T("CSP nonce",{providedIn:"root",factory:()=>function Us(){if(void 0!==Up)return Up;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let JT=(t,e,n)=>null;function og(t,e,n=!1){return JT(t,e,n)}class wB{}class nS{}class bB{resolveComponentFactory(e){throw function IB(t){const e=Error(`No component factory found for ${Ge(t)}.`);return e.ngComponent=t,e}(e)}}let Du=(()=>{class e{}return e.NULL=new bB,e})();function DB(){return Gs(tt(),E())}function Gs(t,e){return new Kt(kt(t,e))}let Kt=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=DB,e})();class iS{}let dr=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function SB(){const t=E(),n=Wt(tt().index,t);return(Pt(n)?n:t)[V]}(),e})(),AB=(()=>{var t;class e{}return(t=e).\u0275prov=N({token:t,providedIn:"root",factory:()=>null}),e})();class Ws{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sS=new Ws("16.2.6"),cg={};function cS(t,e=null,n=null,r){const i=uS(t,e,n,r);return i.resolveInjectorInitializers(),i}function uS(t,e=null,n=null,r,i=new Set){const s=[n||J,rB(t)];return r=r||("object"==typeof t?void 0:Ge(t)),new yu(s,e||_u(),r||null,i)}let Et=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return cS({name:""},i,r,"");{const s=r.name??"";return cS({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=ra,t.NULL=new Wp,t.\u0275prov=N({token:t,providedIn:"any",factory:()=>R(GT)}),t.__NG_ELEMENT_ID__=-1,e})();function dg(t){return t.ngOriginalError}class fr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&dg(e);for(;n&&dg(n);)n=dg(n);return n||null}}function hg(t){return e=>{setTimeout(t,void 0,e)}}const Re=class OB extends hn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=hg(s),i&&(i=hg(i)),o&&(o=hg(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof At&&e.add(a),a}};function fS(...t){}class oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function FB(){const t="function"==typeof me.requestAnimationFrame;let e=me[t?"requestAnimationFrame":"setTimeout"],n=me[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function UB(t){const e=()=>{!function VB(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(me,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gg(t),t.isCheckStableRunning=!0,pg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function BB(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return hS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),pS(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return hS(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),pS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,gg(t),pg(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oe.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(oe.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,LB,fS,fS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const LB={};function pg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pS(t){t._nesting--,pg(t)}class jB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const gS=new T("",{providedIn:"root",factory:mS});function mS(){const t=A(oe);let e=!0;return function BV(...t){const e=na(t),n=function xV(t,e){return"number"==typeof kh(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Bt(r[0]):gs(n)(He(r,e)):Mn}(new De(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new De(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{oe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Ib()))}function hr(t){return t instanceof Function?t():t}let mg=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=N({token:t,providedIn:"root",factory:()=>new t}),e})();function Oa(t){for(;t;){t[B]|=64;const e=Ta(t);if(Xh(t)&&!e)return t;t=e}return null}const CS=new T("",{providedIn:"root",factory:()=>!1});let Su=null;function DS(t,e){return t[e]??AS()}function TS(t,e){const n=AS();n.producerNode?.length&&(t[e]=Su,n.lView=t,Su=SS())}const ZB={...Qb,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Oa(t.lView)},lView:null};function SS(){return Object.create(ZB)}function AS(){return Su??=SS(),Su}const U={};function vn(t){MS(X(),E(),yt()+t,!1)}function MS(t,e,n,r){if(!r)if(3==(3&e[B])){const s=t.preOrderCheckHooks;null!==s&&Gc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Wc(e,s,0,n)}Ti(n)}function w(t,e=q.Default){const n=E();return null===n?R(t,e):BD(tt(),n,O(t),e)}function Au(t,e,n,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Me]=i,d[B]=140|r,(null!==c||t&&2048&t[B])&&(d[B]|=2048),mD(d),d[we]=d[Es]=t,d[xe]=n,d[vs]=o||t&&t[vs],d[V]=a||t&&t[V],d[Ur]=l||t&&t[Ur]||null,d[lt]=s,d[ua]=function sj(){return ij++}(),d[or]=u,d[zb]=c,d[Oe]=2==e.type?t[Oe]:d,d}function Ks(t,e,n,r,i){let s=t.data[e];if(null===s)s=function _g(t,e,n,r,i){const s=wD(),o=op(),l=t.data[e]=function s$(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ds(){return null!==x.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function i2(){return x.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function _a(){const t=x.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return xn(s,!0),s}function Fa(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function NS(t,e,n,r,i){const s=DS(e,da),o=yt(),a=2&r;try{Ti(-1),a&&e.length>K&&MS(t,e,K,!1),kn(a?2:0,i);const c=a?s:null,u=ep(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{tp(c,u)}}finally{a&&null===e[da]&&TS(e,da),Ti(o),kn(a?3:1,i)}}function yg(t,e,n){if(Zh(e)){const r=rn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{rn(r)}}}function vg(t,e,n){CD()&&(function f$(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;bi(n)&&function v$(t,e,n){const r=kt(e,t),i=PS(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Mu(t,Au(t,i,null,o,r,e,null,t[vs].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qc(n,e),ct(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=Si(e,t,a,n);ct(c,e),null!==o&&E$(0,a-i,c,l,0,o),yn(l)&&(Wt(n.index,e)[xe]=Si(e,t,a,n))}}(t,e,n,kt(n,e)),64==(64&n.flags)&&LS(t,e,n))}function Eg(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function PS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Cg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Cg(t,e,n,r,i,s,o,a,l,c,u){const d=K+r,f=d+i,h=function JB(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:U);return n}(d,f),p="function"==typeof c?c():c;return h[D]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let kS=t=>null;function xS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?OS(n,e,i,s):r.hasOwnProperty(i)&&OS(n,e,r[i],s)}return n}function OS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function wg(t,e,n,r){if(CD()){const i=null===r?null:{"":-1},s=function p$(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(jb(e,o.selectors,!1))if(r||(r=[]),yn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Ig(t,e,a.length)}else r.unshift(o),Ig(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&FS(t,e,n,o,i,a),i&&function g$(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=oa(n.mergedAttrs,n.attrs)}function FS(t,e,n,r,i,s){for(let c=0;c<r.length;c++)yp(qc(n,e),t,r[c].type);!function _$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Fa(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=oa(n.mergedAttrs,u.hostAttrs),y$(t,n,e,l,u),m$(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function o$(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,p=f?f.outputs:null;l=xS(d.inputs,u,l,f?f.inputs:null),c=xS(d.outputs,u,c,p);const g=null===l||null===o||Ub(e)?null:C$(l,u,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,s)}function LS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function o2(){return x.lFrame.currentDirectiveIndex}();try{Ti(s);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];lp(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&h$(l,c)}}finally{Ti(-1),lp(o)}}function h$(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ig(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yn(e)&&(n[""]=t)}}function y$(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Di(i.type)),o=new ya(s,yn(i),w);t.blueprint[r]=o,n[r]=o,function u$(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function d$(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Fa(t,n,i.hostVars,U),i)}function E$(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)VS(r,n,o[a++],o[a++],o[a++])}function VS(t,e,n,r,i){const s=rn(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{rn(s)}}function C$(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function US(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function jS(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];up(n[r]),o.contentQueries(2,e[s],s)}}}function Mu(t,e){return t[la]?t[Wb][_n]=e:t[la]=e,t[Wb]=e,e}function Dg(t,e,n){up(0);const r=rn(null);try{e(t,n)}finally{rn(r)}}function GS(t,e){const n=t[Ur],r=n?n.get(fr,null):null;r&&r.handleError(e)}function Tg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];VS(t.data[o],e[o],r,a,i)}}function w$(t,e){const n=Wt(e,t),r=n[D];!function I$(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Me];null!==i&&null===n[or]&&(n[or]=og(i,n[Ur])),Sg(r,n,n[xe])}function Sg(t,e,n){dp(e);try{const r=t.viewQuery;null!==r&&Dg(1,r,n);const i=t.template;null!==i&&NS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jS(t,e),t.staticViewQueries&&Dg(2,t.viewQuery,n);const s=t.components;null!==s&&function b$(t,e){for(let n=0;n<e.length;n++)w$(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[B]&=-5,fp()}}let WS=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function FU(t,e,n){const r=Object.create(LU);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>eD(r),run:()=>{if(r.dirty=!1,r.hasRun&&!tD(r))return;r.hasRun=!0;const o=ep(r);try{r.cleanupFn(),r.cleanupFn=cD,r.fn(i)}finally{tp(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let l;this.all.add(a),a.notify();const c=()=>{a.cleanup(),l?.(),this.all.delete(a),this.queue.delete(a)};return l=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=N({token:t,providedIn:"root",factory:()=>new t}),e})();function Ru(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Oh(i,a):2==s&&(r=Oh(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function La(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(_e(s)),mt(s)&&zS(s,r);const o=n.type;if(8&o)La(t,e,n.child,r);else if(32&o){const a=Rp(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=TT(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ta(e[Oe]);La(l[D],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function zS(t,e){for(let n=Je;n<t.length;n++){const r=t[n],i=r[D].firstChild;null!==i&&La(r[D],r,i,e)}t[Pn]!==t[Me]&&e.push(t[Pn])}function Nu(t,e,n,r=!0){const i=e[vs],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{qS(t,e,t.template,n)}catch(l){throw r&&GS(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function qS(t,e,n,r){const i=e[B];if(256!=(256&i)){e[vs].effectManager?.flush(),dp(e);try{mD(e),function bD(t){return x.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&NS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Gc(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Wc(e,c,0,null),hp(e,0)}if(function S$(t){for(let e=pT(t);null!==e;e=gT(e)){if(!e[qb])continue;const n=e[ws];for(let r=0;r<n.length;r++){qU(n[r])}}}(e),KS(e,2),null!==t.contentQueries&&jS(t,e),o){const c=t.contentCheckHooks;null!==c&&Gc(e,c)}else{const c=t.contentHooks;null!==c&&Wc(e,c,1),hp(e,1)}!function XB(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=DS(e,fa);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ti(~s);else{const o=s,a=n[++i],l=n[++i];s2(a,o),r.dirty=!1;const c=ep(r);try{l(2,e[o])}finally{tp(r,c)}}}}finally{null===e[fa]&&TS(e,fa),Ti(-1)}}(t,e);const a=t.components;null!==a&&QS(e,a,0);const l=t.viewQuery;if(null!==l&&Dg(2,l,r),o){const c=t.viewCheckHooks;null!==c&&Gc(e,c)}else{const c=t.viewHooks;null!==c&&Wc(e,c,2),hp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[B]&=-73,_D(e)}finally{fp()}}}function KS(t,e){for(let n=pT(t);null!==n;n=gT(n))for(let r=Je;r<n.length;r++)YS(n[r],e)}function A$(t,e,n){YS(Wt(e,t),n)}function YS(t,e){if(!function WU(t){return 128==(128&t[B])}(t))return;const n=t[D],r=t[B];if(80&r&&0===e||1024&r||2===e)qS(n,t,n.template,t[xe]);else if(t[aa]>0){KS(t,1);const i=n.components;null!==i&&QS(t,i,1)}}function QS(t,e,n){for(let r=0;r<e.length;r++)A$(t,e[r],n)}class Va{get rootNodes(){const e=this._lView,n=e[D];return La(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xe]}set context(e){this._lView[xe]=e}get destroyed(){return 256==(256&this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[we];if(mt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(lu(e,r),Zc(n,r))}this._attachedToViewContainer=!1}Pp(this._lView[D],this._lView)}onDestroy(e){!function vD(t,e){if(256==(256&t[B]))throw new C(911,!1);null===t[jr]&&(t[jr]=[]),t[jr].push(e)}(this._lView,e)}markForCheck(){Oa(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){this._lView[B]|=128}detectChanges(){Nu(this._lView[D],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vj(t,e){Aa(t,e,e[V],2,null,null)}(this._lView[D],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class M$ extends Va{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Nu(e[D],e,e[xe],!1)}checkNoChanges(){}get context(){return null}}class ZS extends Du{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Z(e);return new Ua(n,this.ngModule)}}function XS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class N${constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pc(r);const i=this.injector.get(e,cg,r);return i!==cg||n===cg?i:this.parentInjector.get(e,n,r)}}class Ua extends nS{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=XS(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return XS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function _U(t){return t.map(mU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof qt?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new N$(e,s):e,a=o.get(iS,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:o.get(AB,null),effectManager:o.get(WS,null),afterRenderEventManager:o.get(mg,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function e$(t,e,n,r){const s=r.get(CS,!1)||n===gn.ShadowDom,o=t.selectRootElement(e,s);return function t$(t){kS(t)}(o),o}(f,r,this.componentDef.encapsulation,o):au(f,h,function R$(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=og(p,o,!0));const S=Cg(0,null,null,1,0,null,null,null,null,null,null),M=Au(null,S,null,y,null,null,d,f,o,null,_);let j,Ve;dp(M);try{const pt=this.componentDef;let Or,Ei=null;pt.findHostDirectiveDefs?(Or=[],Ei=new Map,pt.findHostDirectiveDefs(pt,Or,Ei),Or.push(pt)):Or=[pt];const XI=function k$(t,e){const n=t[D],r=K;return t[r]=e,Ks(n,r,2,"#host",null)}(M,p),fse=function x$(t,e,n,r,i,s,o){const a=i[D];!function O$(t,e,n,r){for(const i of t)e.mergedAttrs=oa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ru(e,e.mergedAttrs,!0),null!==n&&RT(r,n,e))}(r,t,e,o);let l=null;null!==e&&(l=og(e,i[Ur]));const c=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Au(i,PS(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Ig(a,t,r.length-1),Mu(i,d),i[t.index]=d}(XI,p,pt,Or,M,d,f);Ve=gD(S,K),p&&function L$(t,e,n,r){if(r)Yh(t,n,["ng-version",sS.full]);else{const{attrs:i,classes:s}=function yU(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!mn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Yh(t,n,i),s&&s.length>0&&MT(t,n,s.join(" "))}}(f,pt,p,r),void 0!==n&&function V$(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Ve,this.ngContentSelectors,n),j=function F$(t,e,n,r,i,s){const o=tt(),a=i[D],l=kt(o,i);FS(a,i,o,n,null,r);for(let u=0;u<n.length;u++)ct(Si(i,a,o.directiveStart+u,o),i);LS(a,i,o),l&&ct(l,i);const c=Si(i,a,o.directiveStart+o.componentOffset,o);if(t[xe]=i[xe]=c,null!==s)for(const u of s)u(c,e);return yg(a,o,t),c}(fse,pt,Or,Ei,M,[U$]),Sg(S,M,null)}finally{fp()}return new P$(this.componentType,j,Gs(Ve,M),M,Ve)}}class P$ extends wB{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new M$(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Tg(s[D],s,i,e,n),this.previousInputValues.set(e,n),Oa(Wt(this._tNode.index,s))}}get injector(){return new vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function U$(){const t=tt();Hc(E()[D],t)}function ae(t){let e=function JS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Pu(t.inputs),o.inputTransforms=Pu(t.inputTransforms),o.declaredInputs=Pu(t.declaredInputs),o.outputs=Pu(t.outputs);const a=i.hostBindings;a&&H$(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&B$(t,l),c&&$$(t,c),Tc(t.inputs,i.inputs),Tc(t.declaredInputs,i.declaredInputs),Tc(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Tc(o.inputTransforms,i.inputTransforms)),yn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ae&&(n=!1)}}e=Object.getPrototypeOf(e)}!function j$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oa(i.hostAttrs,n=oa(n,i.hostAttrs))}}(r)}function Pu(t){return t===Rn?{}:t===J?[]:t}function B$(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function $$(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function H$(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function ku(t){return!!function Ag(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ut(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vu(t,e,n,r,i,s,o,a){const l=E(),c=X(),u=t+K,d=c.firstCreatePass?function pH(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Ks(e,t,4,o||null,$r(c,a));wg(e,n,u,$r(c,l)),Hc(e,u);const d=u.tView=Cg(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];xn(d,!1);const f=mA(c,l,d,t);$c()&&uu(c,l,f,d),ct(f,l),Mu(l,l[u]=US(f,l,f,d)),Vc(d)&&vg(c,l,d),null!=o&&Eg(l,d,a)}let mA=function _A(t,e,n,r){return Hr(!0),e[V].createComment("")};function io(t,e,n){const r=E();return ut(r,Ts(),e)&&function Yt(t,e,n,r,i,s,o,a){const l=kt(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Tg(t,n,u,r,i),bi(e)&&function l$(t,e){const n=Wt(e,t);16&n[B]||(n[B]|=64)}(n,e.index)):3&e.type&&(r=function a$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(X(),function Te(){const t=x.lFrame;return gD(t.tView,t.selectedIndex)}(),r,t,e,r[V],n,!1),io}function xg(t,e,n,r,i){const o=i?"class":"style";Tg(t,n,e.inputs[o],o,r)}function le(t,e,n,r){const i=E(),s=X(),o=K+t,a=i[V],l=s.firstCreatePass?function vH(t,e,n,r,i,s){const o=e.consts,l=Ks(e,t,2,r,$r(o,i));return wg(e,n,l,$r(o,s)),null!==l.attrs&&Ru(l,l.attrs,!1),null!==l.mergedAttrs&&Ru(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],c=yA(s,i,l,a,e,t);i[o]=c;const u=Vc(l);return xn(l,!0),RT(a,c,l),32!=(32&l.flags)&&$c()&&uu(s,i,c,l),0===function YU(){return x.lFrame.elementDepthCount}()&&ct(c,i),function QU(){x.lFrame.elementDepthCount++}(),u&&(vg(s,i,l),yg(s,l,i)),null!==r&&Eg(i,l),le}function Y(){let t=tt();op()?function ap(){x.lFrame.isParent=!1}():(t=t.parent,xn(t,!1));const e=t;(function XU(t){return x.skipHydrationRootTNode===t})(e)&&function n2(){x.skipHydrationRootTNode=null}(),function ZU(){x.lFrame.elementDepthCount--}();const n=X();return n.firstCreatePass&&(Hc(n,t),Zh(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function _2(t){return 0!=(8&t.flags)}(e)&&xg(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function y2(t){return 0!=(16&t.flags)}(e)&&xg(n,e,E(),e.stylesWithoutHost,!1),Y}function Un(t,e,n,r){return le(t,e,n,r),Y(),Un}let yA=(t,e,n,r,i,s)=>(Hr(!0),au(r,i,function PD(){return x.lFrame.currentNamespace}()));function Uu(){return E()}function Ga(t){return!!t&&"function"==typeof t.then}function CA(t){return!!t&&"function"==typeof t.subscribe}function rt(t,e,n,r){const i=E(),s=X(),o=tt();return function IA(t,e,n,r,i,s,o){const a=Vc(r),c=t.firstCreatePass&&function $S(t){return t.cleanup||(t.cleanup=[])}(t),u=e[xe],d=function BS(t){return t[ys]||(t[ys]=[])}(e);let f=!0;if(3&r.type||o){const g=kt(r,e),m=o?o(g):g,y=d.length,_=o?M=>o(_e(M[r.index])):r.index;let S=null;if(!o&&a&&(S=function DH(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[ys],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,f=!1;else{s=DA(r,e,u,s,!1);const M=n.listen(m,i,s);d.push(s,M),c&&c.push(i,_,y,y+1)}}else s=DA(r,e,u,s,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const j=e[p[m]][p[m+1]].subscribe(s),Ve=d.length;d.push(s,j),c&&c.push(i,r.index,Ve,-(Ve+1))}}}(s,i,i[V],o,t,e,r),rt}function bA(t,e,n,r){try{return kn(6,e,n),!1!==n(r)}catch(i){return GS(t,i),!1}finally{kn(7,e,n)}}function DA(t,e,n,r,i){return function s(o){if(o===Function)return r;Oa(t.componentOffset>-1?Wt(t.index,e):e);let l=bA(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=bA(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function Wa(t=1){return function l2(t){return(x.lFrame.contextLView=function c2(t,e){for(;t>0;)e=e[Es],t--;return e}(t,x.lFrame.contextLView))[xe]}(t)}function ju(t,e){return t<<17|e<<2}function zr(t){return t>>17&32767}function Vg(t){return 2|t}function Ni(t){return(131068&t)>>2}function Ug(t,e){return-131069&t|e<<2}function jg(t){return 1|t}function OA(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?zr(s):Ni(s),l=!1;for(;0!==a&&(!1===l||o);){const u=t[a+1];xH(t[a],e)&&(l=!0,t[a+1]=r?jg(u):Vg(u)),a=r?zr(u):Ni(u)}l&&(t[n+1]=r?Vg(s):jg(s))}function xH(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&xs(t,e)>=0}function Bu(t,e){return function En(t,e,n,r){const i=E(),s=X(),o=function lr(t){const e=x.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function GA(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[yt()],o=function HA(t,e){return e>=t.expandoStartIndex}(t,n);(function KA(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function HH(t,e,n,r){const i=function cp(t){const e=x.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=za(n=Bg(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Bg(i,t,e,n,r),null===s){let l=function GH(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ni(r))return t[zr(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Bg(null,t,e,l[1],r),l=za(l,e.attrs,r),function WH(t,e,n,r){t[zr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function zH(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=za(r,t[s].hostAttrs,n);return za(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function PH(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=zr(o),l=Ni(o);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||xs(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const f=zr(t[a+1]);t[r+1]=ju(f,a),0!==f&&(t[f+1]=Ug(t[f+1],r)),t[a+1]=function RH(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=ju(a,0),0!==a&&(t[a+1]=Ug(t[a+1],r)),a=r;else t[r+1]=ju(l,0),0===a?a=r:t[l+1]=Ug(t[l+1],r),l=r;c&&(t[r+1]=Vg(t[r+1])),OA(t,u,r,!0),OA(t,u,r,!1),function kH(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&xs(s,e)>=0&&(n[r+1]=jg(n[r+1]))}(e,u,t,r,s),o=ju(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==U&&ut(i,o,e)&&function zA(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function NH(t){return 1==(1&t)}(c)?qA(l,e,n,i,Ni(c),o):void 0;$u(u)||($u(s)||function MH(t){return 2==(2&t)}(c)&&(s=qA(l,null,n,i,a,o)),function Mj(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Gr.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gr.Important),t.setStyle(n,r,i,s))}}(r,o,Bc(yt(),n),i,s))}(s,s.data[yt()],i,i[V],t,i[o+1]=function QH(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ge(function Wr(t){return t instanceof xT?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Bu}function Bg(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=za(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function za(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zt(t,o,!!n||e[++s]))}return void 0===t?null:t}function qA(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[i+1];f===U&&(f=d?J:void 0);let h=d?Cp(f,r):u===r?f:void 0;if(c&&!$u(h)&&(h=Cp(l,r)),$u(h)&&(a=h,o))return a;const p=t[i+1];i=o?zr(p):Ni(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Cp(l,r))}return a}function $u(t){return void 0!==t}function fe(t,e=""){const n=E(),r=X(),i=t+K,s=r.firstCreatePass?Ks(r,i,1,e,null):r.data[i],o=YA(r,n,s,e,t);n[i]=o,$c()&&uu(r,n,o,s),xn(s,!1)}let YA=(t,e,n,r,i)=>(Hr(!0),function ou(t,e){return t.createText(e)}(e[V],r));function qr(t){return $g("",t,""),qr}function $g(t,e,n){const r=E(),i=function Qs(t,e,n,r){return ut(t,Ts(),n)?e+L(n)+r:U}(r,t,e,n);return i!==U&&function pr(t,e,n){const r=Bc(e,t);!function _T(t,e,n){t.setValue(e,n)}(t[V],r,n)}(r,yt(),i),$g}const ao="en-US";let y0=ao;function Wg(t,e,n,r,i){if(t=O(t),Array.isArray(t))for(let s=0;s<t.length;s++)Wg(t[s],e,n,r,i);else{const s=X(),o=E(),a=tt();let l=Mi(t)?t:O(t.provide);const c=QT(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Mi(t)||!t.multi){const h=new ya(c,i,w),p=qg(l,e,i?u:u+f,d);-1===p?(yp(qc(a,o),s,l),zg(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{const h=qg(l,e,u+f,d),p=qg(l,e,u,u+f),m=p>=0&&n[p];if(i&&!m||!i&&!(h>=0&&n[h])){yp(qc(a,o),s,l);const y=function _W(t,e,n,r,i){const s=new ya(t,n,w);return s.multi=[],s.index=e,s.componentProviders=0,H0(s,i,r&&!n),s}(i?mW:gW,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),zg(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else zg(s,t,h>-1?h:p,H0(n[i?p:h],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function zg(t,e,n,r){const i=Mi(e),s=function sB(t){return!!t.useClass}(e);if(i||s){const l=(s?O(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function H0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gW(t,e,n,r){return Kg(this.multi,[])}function mW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Si(n,n[D],this.providerFactory.index,r);s=a.slice(0,o),Kg(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Kg(i,s);return s}function Kg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ie(t,e=[]){return n=>{n.providersResolver=(r,i)=>function pW(t,e,n){const r=X();if(r.firstCreatePass){const i=yn(t);Wg(n,r.data,r.blueprint,i,!0),Wg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class ki{}class G0{}class Yg extends ki{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ZS(this);const i=Gt(e);this._bootstrapComponents=hr(i.bootstrap),this._r3Injector=uS(e,n,[{provide:ki,useValue:this},{provide:Du,useValue:this.componentFactoryResolver},...r],Ge(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Qg extends G0{constructor(e){super(),this.moduleType=e}create(e){return new Yg(this.moduleType,e,[])}}class W0 extends ki{constructor(e){super(),this.componentFactoryResolver=new ZS(this),this.instance=null;const n=new yu([...e.providers,{provide:ki,useValue:this},{provide:Du,useValue:this.componentFactoryResolver}],e.parent||_u(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Zg(t,e,n=null){return new W0({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let EW=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=zT(0,r.type),s=i.length>0?Zg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=N({token:t,providedIn:"environment",factory:()=>new t(R(qt))}),e})();function z0(t){t.getStandaloneInjector=e=>e.get(EW).getOrCreateStandaloneInjector(t)}function KW(t,e,n,r=!0){const i=e[D];if(function Cj(t,e,n,r){const i=Je+r,s=n.length;r>0&&(n[i-1][_n]=e),r<s-Je?(e[_n]=n[i],qD(n,Je+r,e)):(n.push(e),e[_n]=null),e[we]=n;const o=e[ca];null!==o&&n!==o&&function wj(t,e){const n=t[ws];e[Oe]!==e[we][we][Oe]&&(t[qb]=!0),null===n?t[ws]=[e]:n.push(e)}(o,e);const a=e[Nn];null!==a&&a.insertView(t),e[B]|=128}(i,e,t,n),r){const s=Fp(n,t),o=e[V],a=cu(o,t[Pn]);null!==a&&function yj(t,e,n,r,i,s){r[Me]=i,r[lt]=e,Aa(t,r,n,1,i,s)}(i,t[lt],o,e,a,s)}}let gr=(()=>{class e{}return e.__NG_ELEMENT_ID__=ZW,e})();const YW=gr,QW=class extends YW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function qW(t,e,n,r){const i=e.tView,a=Au(t,i,n,4096&t[B]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ca]=t[e.index];const c=t[Nn];return null!==c&&(a[Nn]=c.createEmbeddedView(i)),Sg(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new Va(i)}};function ZW(){return function qu(t,e){return 4&t.type?new QW(e,t,Gs(t,e)):null}(tt(),E())}let wn=(()=>{class e{}return e.__NG_ELEMENT_ID__=r3,e})();function r3(){return function uM(t,e){let n;const r=e[t.index];return mt(r)?n=r:(n=US(r,e,null,t),e[t.index]=n,Mu(e,n)),dM(n,e,t,r),new lM(n,t,e)}(tt(),E())}const i3=wn,lM=class extends i3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new vt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kc(this._hostTNode,this._hostLView);if(gp(e)){const n=Ea(e,this._hostLView),r=va(e);return new vt(n[D].data[r+8],n)}return new vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=cM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function wa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Ua(Z(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?c:this.parentInjector).get(qt,null);m&&(s=m)}Z(l.componentType??{});const h=l.create(c,i,null,s);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function zU(t){return mt(t[we])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[we],u=new lM(c,c[lt],c[we]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return KW(a,i,o,!r),e.attachToViewContainerRef(),qD(em(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=cM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=lu(this._lContainer,n);r&&(Zc(em(this._lContainer),n),Pp(r[D],r))}detach(e){const n=this._adjustIndex(e,-1),r=lu(this._lContainer,n);return r&&null!=Zc(em(this._lContainer),n)?new Va(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function cM(t){return t[8]}function em(t){return t[8]||(t[8]=[])}let dM=function fM(t,e,n,r){if(t[Pn])return;let i;i=8&n.type?_e(r):function s3(t,e){const n=t[V],r=n.createComment(""),i=kt(e,t);return Ai(n,cu(n,i),r,function Tj(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Pn]=i};const dm=new T("Application Initializer");let fm=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=A(dm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(Ga(o))r.push(o);else if(CA(o)){const a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),LM=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const mr=new T("LocaleId",{providedIn:"root",factory:()=>A(mr,q.Optional|q.SkipSelf)||function F3(){return typeof $localize<"u"&&$localize.locale||ao}()});let Qu=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tn(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class U3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let VM=(()=>{var t;class e{compileModuleSync(r){return new Qg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=hr(Gt(r).declarations).reduce((a,l)=>{const c=Z(l);return c&&a.push(new Ua(c)),a},[]);return new U3(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $M=new T(""),Xu=new T("");let _m,gm=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_m||(function sz(t){_m=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(R(oe),R(mm),R(Xu))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})(),mm=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return _m?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Kr=null;const HM=new T("AllowMultipleToken"),ym=new T("PlatformDestroyListeners"),vm=new T("appBootstrapListener");class WM{constructor(e,n){this.name=e,this.token=n}}function qM(t,e,n=[]){const r=`Platform: ${e}`,i=new T(r);return(s=[])=>{let o=Em();if(!o||o.injector.get(HM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function lz(t){if(Kr&&!Kr.get(HM,!1))throw new C(400,!1);(function GM(){!function NU(t){sD=t}(()=>{throw new C(600,!1)})})(),Kr=t;const e=t.get(YM);(function zM(t){t.get(ZT,null)?.forEach(n=>n())})(t)}(function KM(t=[],e){return Et.create({name:e,providers:[{provide:Yp,useValue:"platform"},{provide:ym,useValue:new Set([()=>Kr=null])},...t]})}(a,r))}return function uz(t){const e=Em();if(!e)throw new C(401,!1);return e}()}}function Em(){return Kr?.get(YM)??null}let YM=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function dz(t="zone.js",e){return"noop"===t?new jB:"zone.js"===t?new oe(e):t}(i?.ngZone,function QM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function vW(t,e,n){return new Yg(t,e,n)}(r.moduleType,this.injector,function tR(t){return[{provide:oe,useFactory:t},{provide:Pa,multi:!0,useFactory:()=>{const e=A(hz,{optional:!0});return()=>e.initialize()}},{provide:eR,useFactory:fz},{provide:gS,useFactory:mS}]}(()=>s)),a=o.injector.get(fr,null);return s.runOutsideAngular(()=>{const l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{Ju(this._modules,o),l.unsubscribe()})}),function ZM(t,e,n){try{const r=n();return Ga(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const l=o.injector.get(fm);return l.runInitializers(),l.donePromise.then(()=>(function v0(t){nn(t,"Expected localeId to be defined"),"string"==typeof t&&(y0=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(mr,ao)||ao),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=XM({},i);return function oz(t,e,n){const r=new Qg(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(uo);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new C(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(ym,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Et))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function XM(t,e){return Array.isArray(e)?e.reduce(XM,t):{...t,...e}}let uo=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(eR),this.zoneIsStable=A(gS),this.componentTypes=[],this.components=[],this.isStable=A(Qu).hasPendingTasks.pipe(pn(r=>r?P(!1):this.zoneIsStable),function $V(t,e=Fr){return t=t??HV,$e((n,r)=>{let i,s=!0;n.subscribe(Ue(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Ib()),this._injector=A(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof nS;if(!this._injector.get(fm).done)throw!s&&function _s(t){const e=Z(t)||Xe(t)||gt(t);return null!==e&&e.standalone}(r),new C(405,!1);let a;a=s?r:this._injector.get(Du).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function az(t){return t.isBoundToModule}(a)?void 0:this._injector.get(ki),u=a.create(Et.NULL,[],i||a.selector,l),d=u.location.nativeElement,f=u.injector.get($M,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ju(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ju(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(vm,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ju(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ju(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const eR=new T("",{providedIn:"root",factory:()=>A(fr).handleError.bind(void 0)});function fz(){const t=A(oe),e=A(fr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let hz=(()=>{var t;class e{constructor(){this.zone=A(oe),this.applicationRef=A(uo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let ed=(()=>{class e{}return e.__NG_ELEMENT_ID__=gz,e})();function gz(t){return function mz(t,e,n){if(bi(t)&&!n){const r=Wt(t.index,e);return new Va(r,r)}return 47&t.type?new Va(e[Oe],e):null}(tt(),E(),16==(16&t))}class sR{constructor(){}supports(e){return ku(e)}create(e){return new wz(e)}}const Cz=(t,e)=>e;class wz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Cz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<aR(r,i,s)?n:r,a=aR(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<c&&(s[f]=h+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!ku(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Q$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Iz(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new oR),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Iz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class oR{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new bz,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aR(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function cR(){return new rd([new sR])}let rd=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||cR()),deps:[[e,new Jc,new xt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new C(901,!1)}}return(t=e).\u0275prov=N({token:t,providedIn:"root",factory:cR}),e})();const Mz=qM(null,"core",[]);let Rz=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(R(uo))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({}),e})(),Tm=null;function Yr(){return Tm}class Gz{}const Qt=new T("DocumentToken");let Sm=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return A(zz)},providedIn:"platform"}),e})();const Wz=new T("Location Initialized");let zz=(()=>{var t;class e extends Sm{constructor(){super(),this._doc=A(Qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yr().getBaseHref(this._doc)}onPopState(r){const i=Yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Yr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function Am(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function vR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _r(t){return t&&"?"!==t[0]?"?"+t:t}let Oi=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return A(CR)},providedIn:"root"}),e})();const ER=new T("appBaseHref");let CR=(()=>{var t;class e extends Oi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??A(Qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Am(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+_r(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+_r(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+_r(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Sm),R(ER,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),qz=(()=>{var t;class e extends Oi{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=Am(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+_r(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+_r(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Sm),R(ER,8))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})(),Mm=(()=>{var t;class e{constructor(r){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function Qz(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(vR(wR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+_r(i))}normalize(r){return e.stripTrailingSlash(function Yz(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,wR(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_r(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_r(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=_r,t.joinWithSlash=Am,t.stripTrailingSlash=vR,t.\u0275fac=function(r){return new(r||t)(R(Oi))},t.\u0275prov=N({token:t,factory:function(){return function Kz(){return new Mm(R(Oi))}()},providedIn:"root"}),e})();function wR(t){return t.replace(/\/index.html$/,"")}function NR(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class F4{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xR=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new F4(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const l=i.get(o);i.move(l,a),OR(l,s)}});for(let s=0,o=i.length;s<o;s++){const l=i.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{OR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(w(wn),w(gr),w(rd))},t.\u0275dir=F({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function OR(t,e){t.context.$implicit=e.item}let FR=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new L4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){LR("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){LR("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(w(wn),w(gr))},t.\u0275dir=F({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class L4{constructor(){this.$implicit=null,this.ngIf=null}}function LR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ge(e)}'.`)}let lq=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({}),e})();function BR(t){return"server"===t}let fq=(()=>{var t;class e{}return(t=e).\u0275prov=N({token:t,providedIn:"root",factory:()=>new hq(R(Qt),window)}),e})();class hq{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function pq(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $R{}class Lq extends Gz{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zm extends Lq{static makeCurrent(){!function Hz(t){Tm||(Tm=t)}(new zm)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Vq(){return ol=ol||document.querySelector("base"),ol?ol.getAttribute("href"):null}();return null==n?null:function Uq(t){_d=_d||document.createElement("a"),_d.setAttribute("href",t);const e=_d.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NR(document.cookie,e)}}let _d,ol=null,Bq=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();const qm=new T("EventManagerPlugins");let qR=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(R(qm),R(oe))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();class KR{constructor(e){this._doc=e}}const Km="ng-app-id";let YR=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=BR(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${Km}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Km),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Km,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Qt),R(vu),R(XT,8),R(ur))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();const Ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qm=/%COMP%/g,Wq=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ZR(t,e){return e.map(n=>n.replace(Qm,t))}let XR=(()=>{var t;class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=BR(l),this.defaultRenderer=new Zm(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gn.ShadowDom&&(i={...i,encapsulation:gn.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof eN?s.applyToHost(r):s instanceof Xm&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case gn.Emulated:o=new eN(c,u,i,this.appId,d,a,l,f);break;case gn.ShadowDom:return new Yq(c,u,r,i,a,l,this.nonce,f);default:o=new Xm(c,u,i,d,a,l,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(R(qR),R(YR),R(vu),R(Wq),R(Qt),R(ur),R(oe),R(XT))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();class Zm{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ym[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Ym[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ym[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gr.DashCase|Gr.Important)?e.style.setProperty(n,r,i&Gr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Yr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function JR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Yq extends Zm{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ZR(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xm extends Zm{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?ZR(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class eN extends Xm{constructor(e,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=function zq(t){return"_ngcontent-%COMP%".replace(Qm,t)}(c),this.hostAttr=function qq(t){return"_nghost-%COMP%".replace(Qm,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Qq=(()=>{var t;class e extends KR{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Qt))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();const tN=["alt","control","meta","shift"],Zq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Jq=(()=>{var t;class e extends KR{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),tN.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Zq[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),tN.forEach(a=>{a!==s&&(0,Xq[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Qt))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();const rN=[{provide:ur,useValue:"browser"},{provide:ZT,useValue:function e8(){zm.makeCurrent()},multi:!0},{provide:Qt,useFactory:function n8(){return function xj(t){Up=t}(document),document},deps:[]}],r8=qM(Mz,"browser",rN),i8=new T(""),iN=[{provide:Xu,useClass:class jq{addToWindow(e){me.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},me.getAllAngularTestabilities=()=>e.getAllTestabilities(),me.getAllAngularRootElements=()=>e.getAllRootElements(),me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push(r=>{const i=me.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Yr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:$M,useClass:gm,deps:[oe,mm,Xu]},{provide:gm,useClass:gm,deps:[oe,mm,Xu]}],sN=[{provide:Yp,useValue:"root"},{provide:fr,useFactory:function t8(){return new fr},deps:[]},{provide:qm,useClass:Qq,multi:!0,deps:[Qt,oe,ur]},{provide:qm,useClass:Jq,multi:!0,deps:[Qt]},XR,YR,qR,{provide:iS,useExisting:XR},{provide:$R,useClass:Bq,deps:[]},[]];let s8=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:vu,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(R(i8,12))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({providers:[...sN,...iN],imports:[lq,Rz]}),e})(),oN=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Qt))},t.\u0275prov=N({token:t,factory:function(r){let i=null;return i=r?new r:function a8(){return new oN(R(Qt))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:h8}=Array,{getPrototypeOf:p8,prototype:g8,keys:m8}=Object;function uN(t){if(1===t.length){const e=t[0];if(h8(e))return{args:e,keys:null};if(function _8(t){return t&&"object"==typeof t&&p8(t)===g8}(e)){const n=m8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:y8}=Array;function dN(t){return Q(e=>function v8(t,e){return y8(e)?t(...e):t(e)}(t,e))}function fN(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function e_(...t){const e=na(t),n=Cb(t),{args:r,keys:i}=uN(t);if(0===r.length)return He([],e);const s=new De(function E8(t,e,n=Fr){return r=>{hN(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)hN(e,()=>{const c=He(t[l],e);let u=!1;c.subscribe(Ue(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>fN(i,o):Fr));return n?s.pipe(dN(n)):s}function hN(t,e,n){t?rr(n,t,e):e()}const yd=ea(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function t_(...t){return function C8(){return gs(1)}()(He(t,na(t)))}function pN(t){return new De(e=>{Bt(t()).subscribe(e)})}function al(t,e){const n=de(t)?t:()=>t,r=i=>i.error(n());return new De(e?i=>e.schedule(r,0,i):r)}function n_(){return $e((t,e)=>{let n=null;t._refCount++;const r=Ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class gN extends De{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ob(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new At;const n=this.getSubject();e.add(this.source.subscribe(Ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=At.EMPTY)}return e}refCount(){return n_()(this)}}function po(t){return t<=0?()=>Mn:$e((e,n)=>{let r=0;e.subscribe(Ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Er(t,e){return $e((n,r)=>{let i=0;n.subscribe(Ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vd(t){return $e((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mN(t=I8){return $e((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function I8(){return new yd}function Fi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Er((i,s)=>t(i,s,r)):Fr,po(1),n?vd(e):mN(()=>new yd))}function go(t,e){return de(e)?Ze(t,e,1):Ze(t,1)}function it(t,e,n){const r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?$e((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ue(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Fr}function Li(t){return $e((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Ue(n,void 0,void 0,o=>{s=Bt(t(o,Li(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function r_(t){return t<=0?()=>Mn:$e((e,n)=>{let r=[];e.subscribe(Ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ll(t){return $e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const H="primary",cl=Symbol("RouteTitle");class M8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function mo(t){return new M8(t)}function R8(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $n(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_N(t[i],e[i]))return!1;return!0}function _N(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function yN(t){return t.length>0?t[t.length-1]:null}function Zr(t){return function f8(t){return!!t&&(t instanceof De||de(t.lift)&&de(t.subscribe))}(t)?t:Ga(t)?He(Promise.resolve(t)):P(t)}const P8={exact:function CN(t,e,n){if(!Vi(t.segments,e.segments)||!Ed(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!CN(t.children[r],e.children[r],n))return!1;return!0},subset:wN},vN={exact:function k8(t,e){return $n(t,e)},subset:function x8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_N(t[n],e[n]))},ignored:()=>!0};function EN(t,e,n){return P8[n.paths](t.root,e.root,n.matrixParams)&&vN[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function wN(t,e,n){return IN(t,e,e.segments,n)}function IN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Vi(i,n)||e.hasChildren()||!Ed(i,n,r))}if(t.segments.length===n.length){if(!Vi(t.segments,n)||!Ed(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!wN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Vi(t.segments,i)&&Ed(t.segments,i,r)&&t.children[H])&&IN(t.children[H],e,s,r)}}function Ed(t,e,n){return e.every((r,i)=>vN[n](t[i].parameters,r.parameters))}class _o{constructor(e=new ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mo(this.queryParams)),this._queryParamMap}toString(){return L8.serialize(this)}}class ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cd(this)}}class ul{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=mo(this.parameters)),this._parameterMap}toString(){return TN(this)}}function Vi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let dl=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return new i_},providedIn:"root"}),e})();class i_{parse(e){const n=new K8(e);return new _o(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${fl(e.root,!0)}`,r=function j8(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${wd(n)}=${wd(i)}`).join("&"):`${wd(n)}=${wd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function V8(t){return encodeURI(t)}(e.fragment)}`:""}`}}const L8=new i_;function Cd(t){return t.segments.map(e=>TN(e)).join("/")}function fl(t,e){if(!t.hasChildren())return Cd(t);if(e){const n=t.children[H]?fl(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${fl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function F8(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===H?[fl(t.children[H],!1)]:[`${i}:${fl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[H]?`${Cd(t)}/${n[0]}`:`${Cd(t)}/(${n.join("//")})`}}function bN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(t){return bN(t).replace(/%3B/gi,";")}function s_(t){return bN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Id(t){return decodeURIComponent(t)}function DN(t){return Id(t.replace(/\+/g,"%20"))}function TN(t){return`${s_(t.path)}${function U8(t){return Object.keys(t).map(e=>`;${s_(e)}=${s_(t[e])}`).join("")}(t.parameters)}`}const B8=/^[^\/()?;#]+/;function o_(t){const e=t.match(B8);return e?e[0]:""}const $8=/^[^\/()?;=#]+/,G8=/^[^=?&#]+/,z8=/^[^&#]+/;class K8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new ce(e,n)),r}parseSegment(){const e=o_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new ul(Id(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function H8(t){const e=t.match($8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=o_(this.remaining);i&&(r=i,this.capture(r))}e[Id(n)]=Id(r)}parseQueryParam(e){const n=function W8(t){const e=t.match(G8);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function q8(t){const e=t.match(z8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=DN(n),s=DN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=o_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[H]:new ce([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function SN(t){return t.segments.length>0?new ce([],{[H]:t}):t}function AN(t){const e={};for(const r of Object.keys(t.children)){const s=AN(t.children[r]);if(r===H&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Y8(t){if(1===t.numberOfChildren&&t.children[H]){const e=t.children[H];return new ce(t.segments.concat(e.segments),e.children)}return t}(new ce(t.segments,e))}function Ui(t){return t instanceof _o}function MN(t){let e;const i=SN(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new ce(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function RN(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return a_(i,i,i,n,r);const s=function Z8(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new PN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new PN(n,e,r)}(e);if(s.toRoot())return a_(i,i,new ce([],{}),n,r);const o=function X8(t,e,n){if(t.isAbsolute)return new Dd(e,!0,0);if(!n)return new Dd(e,!1,NaN);if(null===n.parent)return new Dd(n,!0,0);const r=bd(t.commands[0])?0:1;return function J8(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Dd(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?pl(o.segmentGroup,o.index,s.commands):kN(o.segmentGroup,o.index,s.commands);return a_(i,o.segmentGroup,a,n,r)}function bd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hl(t){return"object"==typeof t&&null!=t&&t.outlets}function a_(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=t===e?n:NN(t,e,n);const a=SN(AN(o));return new _o(a,s,i)}function NN(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:NN(s,e,n)}),new ce(t.segments,r)}class PN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&bd(r[0]))throw new C(4003,!1);const i=r.find(hl);if(i&&i!==yN(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dd{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function kN(t,e,n){if(t||(t=new ce([],{})),0===t.segments.length&&t.hasChildren())return pl(t,e,n);const r=function t6(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(hl(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!ON(l,c,o))return s;r+=2}else{if(!ON(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ce(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new ce(t.segments.slice(r.pathIndex),t.children),pl(s,0,i)}return r.match&&0===i.length?new ce(t.segments,{}):r.match&&!t.hasChildren()?l_(t,e,n):r.match?pl(t,0,i):l_(t,e,n)}function pl(t,e,n){if(0===n.length)return new ce(t.segments,{});{const r=function e6(t){return hl(t[0])?t[0].outlets:{[H]:t}}(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&1===t.numberOfChildren&&0===t.children[H].segments.length){const s=pl(t.children[H],e,n);return new ce(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=kN(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ce(t.segments,i)}}function l_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(hl(s)){const l=n6(s.outlets);return new ce(r,l)}if(0===i&&bd(n[0])){r.push(new ul(t.segments[e].path,xN(n[0]))),i++;continue}const o=hl(s)?s.outlets[H]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&bd(a)?(r.push(new ul(o,xN(a))),i+=2):(r.push(new ul(o,{})),i++)}return new ce(r,{})}function n6(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=l_(new ce([],{}),0,r))}),e}function xN(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ON(t,e,n){return t==n.path&&$n(e,n.parameters)}const gl="imperative";class Hn{constructor(e,n){this.id=e,this.url=n}}class Td extends Hn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xr extends Hn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ml extends Hn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yo extends Hn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Sd extends Hn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FN extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r6 extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i6 extends Hn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class s6 extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o6 extends Hn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a6{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l6{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c6{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u6{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f6{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class c_{}class u_{constructor(e){this.url=e}}class h6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _l,this.attachRef=null}}let _l=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new h6,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class VN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=d_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=d_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=f_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return f_(e,this._root).map(n=>n.value)}}function d_(t,e){if(t===e.value)return e;for(const n of e.children){const r=d_(t,n);if(r)return r}return null}function f_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=f_(t,n);if(r.length)return r.unshift(e),r}return[]}class Cr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function vo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class UN extends VN{constructor(e,n){super(e),this.snapshot=n,h_(this,e)}toString(){return this.snapshot.toString()}}function jN(t,e){const n=function p6(t,e){const o=new Ad([],{},{},"",{},H,e,null,{});return new $N("",new Cr(o,[]))}(0,e),r=new tn([new ul("",{})]),i=new tn({}),s=new tn({}),o=new tn({}),a=new tn(""),l=new Eo(r,i,o,a,s,H,e,n.root);return l.snapshot=n.root,new UN(new Cr(l,[]),n)}class Eo{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Q(c=>c[cl]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Q(e=>mo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q(e=>mo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function g6(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ad{get title(){return this.data?.[cl]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $N extends VN{constructor(e,n){super(n),this.url=e,h_(this,n)}toString(){return HN(this._root)}}function h_(t,e){e.value._routerState=t,e.children.forEach(n=>h_(t,n))}function HN(t){const e=t.children.length>0?` { ${t.children.map(HN).join(", ")} } `:"";return`${t.value}${e}`}function p_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$n(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$n(e.params,n.params)||t.paramsSubject.next(n.params),function N8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$n(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),$n(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function g_(t,e){const n=$n(t.params,e.params)&&function O8(t,e){return Vi(t,e)&&t.every((n,r)=>$n(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||g_(t.parent,e.parent))}let GN=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=A(_l),this.location=A(wn),this.changeDetector=A(ed),this.environmentInjector=A(qt),this.inputBinder=A(Md,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new m6(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=F({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sn]}),e})();class m6{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Eo?this.route:e===_l?this.childContexts:this.parent.get(e,n)}}const Md=new T("");let WN=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=e_([i.queryParams,i.params,i.data]).pipe(pn(([o,a,l],c)=>(l={...o,...a,...l},0===c?P(l):Promise.resolve(l)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function $z(t){const e=Z(t);if(!e)return null;const n=new Ua(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();function yl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function y6(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return yl(t,r,i);return yl(t,r)})}(t,e,n);return new Cr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>yl(t,a)),o}}const r=function v6(t){return new Eo(new tn(t.url),new tn(t.params),new tn(t.queryParams),new tn(t.fragment),new tn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>yl(t,s));return new Cr(r,i)}}const m_="ngNavigationCancelingError";function zN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ui(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function qN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[m_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function KN(t){return t&&t[m_]}let YN=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Oc({type:t,selectors:[["ng-component"]],standalone:!0,features:[z0],decls:1,vars:0,template:function(r,i){1&r&&Un(0,"router-outlet")},dependencies:[GN],encapsulation:2}),e})();function __(t){const e=t.children&&t.children.map(__),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=YN),n}function Dn(t){return t.outlet||H}function vl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class S6{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),p_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=vo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=vo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=vo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=vo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new f6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new u6(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(p_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),p_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=vl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class QN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rd{constructor(e,n){this.component=e,this.route=n}}function A6(t,e,n){const r=t._root;return El(r,e?e._root:null,n,[r.value])}function Co(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function QV(t){return null!==Ac(t)}(t)?e.get(t):t:r}function El(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=vo(e);return t.children.forEach(o=>{(function R6(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function N6(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(t.url,e.url)||!$n(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!g_(t,e)||!$n(t.queryParams,e.queryParams);default:return!g_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new QN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),El(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rd(a.outlet.component,o))}else o&&Cl(e,a,i),i.canActivateChecks.push(new QN(r)),El(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Cl(a,n.getContext(o),i)),i}function Cl(t,e,n){const r=vo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Cl(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Rd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wl(t){return"function"==typeof t}function ZN(t){return t instanceof yd||"EmptyError"===t?.name}const Nd=Symbol("INITIAL_VALUE");function wo(){return pn(t=>e_(t.map(e=>e.pipe(po(1),function w8(...t){const e=na(t);return $e((n,r)=>{(e?t_(t,n,e):t_(t,n)).subscribe(r)})}(Nd)))).pipe(Q(e=>{for(const n of e)if(!0!==n){if(n===Nd)return Nd;if(!1===n||n instanceof _o)return n}return!0}),Er(e=>e!==Nd),po(1)))}function XN(t){return function JL(...t){return rb(t)}(it(e=>{if(Ui(e))throw zN(0,e)}),Q(e=>!0===e))}class Pd{constructor(e){this.segmentGroup=e||null}}class JN{constructor(e){this.urlTree=e}}function Io(t){return al(new Pd(t))}function eP(t){return al(new JN(t))}class Z6{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return P(r);if(i.numberOfChildren>1||!i.children[H])return al(new C(4e3,!1));i=i.children[H]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new _o(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ce(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const y_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X6(t,e,n,r,i){const s=v_(t,e,n);return s.matched?(r=function C6(t,e){return t.providers&&!t._injector&&(t._injector=Zg(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function K6(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?P(i.map(o=>{const a=Co(o,t);return Zr(function L6(t){return t&&wl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(wo(),XN()):P(!0)}(r,e,n).pipe(Q(o=>!0===o?s:{...y_}))):P(s)}function v_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...y_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||R8)(n,t,e);if(!i)return{...y_};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function tP(t,e,n,r){return n.length>0&&function t5(t,e,n){return n.some(r=>kd(t,e,r)&&Dn(r)!==H)}(t,n,r)?{segmentGroup:new ce(e,e5(r,new ce(n,t.children))),slicedSegments:[]}:0===n.length&&function n5(t,e,n){return n.some(r=>kd(t,e,r))}(t,n,r)?{segmentGroup:new ce(t.segments,J6(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ce(t.segments,t.children),slicedSegments:n}}function J6(t,e,n,r,i){const s={};for(const o of r)if(kd(t,n,o)&&!i[Dn(o)]){const a=new ce([],{});s[Dn(o)]=a}return{...i,...s}}function e5(t,e){const n={};n[H]=e;for(const r of t)if(""===r.path&&Dn(r)!==H){const i=new ce([],{});n[Dn(r)]=i}return n}function kd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class o5{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Z6(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=tP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,H).pipe(Li(n=>{if(n instanceof JN)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Pd?this.noMatchError(n):n}),Q(n=>{const r=new Ad([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new Cr(r,n),s=new $N("",i),o=function Q8(t,e,n=null,r=null){return RN(MN(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,H).pipe(Li(r=>{throw r instanceof Pd?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=BN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return He(i).pipe(go(s=>{const o=r.children[s],a=function D6(t,e){const n=t.filter(r=>Dn(r)===e);return n.push(...t.filter(r=>Dn(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function D8(t,e){return $e(function b8(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(Ue(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),vd(null),function T8(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Er((i,s)=>t(i,s,r)):Fr,r_(1),n?vd(e):mN(()=>new yd))}(),Ze(s=>{if(null===s)return Io(r);const o=nP(s);return function a5(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}(o),P(o)}))}processSegment(e,n,r,i,s,o){return He(n).pipe(go(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Li(l=>{if(l instanceof Pd)return P(null);throw l}))),Fi(a=>!!a),Li(a=>{if(ZN(a))return function i5(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?P([]):Io(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function r5(t,e,n,r){return!!(Dn(t)===r||r!==H&&kd(e,n,t))&&("**"===t.path||v_(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Io(i):Io(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eP(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ze(o=>{const a=new ce(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=v_(n,i,s);if(!a)return Io(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?eP(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ze(f=>this.processSegment(e,r,n,f.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?yN(i).parameters:{};a=P({snapshot:new Ad(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rP(r),Dn(r),r.component??r._loadedComponent??null,r,iP(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=X6(n,r,i,e).pipe(Q(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new Ad(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rP(r),Dn(r),r.component??r._loadedComponent??null,r,iP(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(pn(l=>null===l?Io(n):this.getChildConfig(e=r._injector??e,r,i).pipe(pn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=tP(n,f,h,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(Q(y=>null===y?null:[new Cr(d,y)]));if(0===c.length&&0===g.length)return P([new Cr(d,[])]);const m=Dn(r)===s;return this.processSegment(u,c,p,g,m?H:s,!0).pipe(Q(y=>[new Cr(d,y)]))}))))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?P({routes:n._loadedRoutes,injector:n._loadedInjector}):function q6(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?P(!0):P(i.map(o=>{const a=Co(o,t);return Zr(function k6(t){return t&&wl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(wo(),XN())}(e,n,r).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(it(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Q6(t){return al(qN(!1,3))}())):P({routes:[],injector:e})}}function l5(t){const e=t.value.routeConfig;return e&&""===e.path}function nP(t){const e=[],n=new Set;for(const r of t){if(!l5(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=nP(r.children);e.push(new Cr(r.value,i))}return e.filter(r=>!n.has(r))}function rP(t){return t.data||{}}function iP(t){return t.resolve||{}}function sP(t){return"string"==typeof t.title||null===t.title}function E_(t){return pn(e=>{const n=t(e);return n?He(n).pipe(Q(()=>e)):P(e)})}const bo=new T("ROUTES");let C_=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(VM)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Zr(r.loadComponent()).pipe(Q(oP),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ll(()=>{this.componentLoaders.delete(r)})),s=new gN(i,()=>new hn).pipe(n_());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function g5(t,e,n,r){return Zr(t.loadChildren()).pipe(Q(oP),Ze(i=>i instanceof G0||Array.isArray(i)?P(i):He(e.compileModuleAsync(i))),Q(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(bo,[],{optional:!0,self:!0}).flat()),{routes:o.map(__),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(ll(()=>{this.childrenLoaders.delete(i)})),a=new gN(o,()=>new hn).pipe(n_());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function oP(t){return function m5(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let xd=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new hn,this.transitionAbortSubject=new hn,this.configLoader=A(C_),this.environmentInjector=A(qt),this.urlSerializer=A(dl),this.rootContexts=A(_l),this.inputBindingEnabled=null!==A(Md,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new l6(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new a6(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new tn({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Er(o=>0!==o.id),Q(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),pn(o=>{this.currentTransition=o;let a=!1,l=!1;return P(o).pipe(it(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pn(c=>{const u=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const h="";return this.events.next(new yo(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Mn}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return P(c).pipe(pn(h=>{const p=this.transitions?.getValue();return this.events.next(new Td(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?Mn:Promise.resolve(h)}),function c5(t,e,n,r,i,s){return Ze(o=>function s5(t,e,n,r,i,s,o="emptyOnly"){return new o5(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(Q(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),it(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const p=new FN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:p,source:g,restoredState:m,extras:y}=c,_=new Td(h,this.urlSerializer.serialize(p),g,m);this.events.next(_);const S=jN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},P(o)}{const h="";return this.events.next(new yo(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Mn}}),it(c=>{const u=new r6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Q(c=>(this.currentTransition=o={...c,guards:A6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function U6(t,e){return Ze(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?P({...n,guardsResult:!0}):function j6(t,e,n,r){return He(t).pipe(Ze(i=>function z6(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?P(s.map(a=>{const l=vl(e)??i,c=Co(a,l);return Zr(function F6(t){return t&&wl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Fi())})).pipe(wo()):P(!0)}(i.component,i.route,n,e,r)),Fi(i=>!0!==i,!0))}(o,r,i,t).pipe(Ze(a=>a&&function P6(t){return"boolean"==typeof t}(a)?function B6(t,e,n,r){return He(e).pipe(go(i=>t_(function H6(t,e){return null!==t&&e&&e(new c6(t)),P(!0)}(i.route.parent,r),function $6(t,e){return null!==t&&e&&e(new d6(t)),P(!0)}(i.route,r),function W6(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function M6(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>pN(()=>P(o.guards.map(l=>{const c=vl(o.node)??n,u=Co(l,c);return Zr(function O6(t){return t&&wl(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Fi())})).pipe(wo())));return P(s).pipe(wo())}(t,i.path,n),function G6(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return P(!0);const i=r.map(s=>pN(()=>{const o=vl(e)??n,a=Co(s,o);return Zr(function x6(t){return t&&wl(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Fi())}));return P(i).pipe(wo())}(t,i.route,n))),Fi(i=>!0!==i,!0))}(r,s,t,e):P(a)),Q(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),it(c=>{if(o.guardsResult=c.guardsResult,Ui(c.guardsResult))throw zN(0,c.guardsResult);const u=new i6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Er(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),E_(c=>{if(c.guards.canActivateChecks.length)return P(c).pipe(it(u=>{const d=new s6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pn(u=>{let d=!1;return P(u).pipe(function u5(t,e){return Ze(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=0;return He(i).pipe(go(o=>function d5(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!sP(i)&&(s[cl]=i.title),function f5(t,e,n,r){const i=function h5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return P({});const s={};return He(i).pipe(Ze(o=>function p5(t,e,n,r){const i=vl(e)??r,s=Co(t,i);return Zr(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Fi(),it(a=>{s[o]=a}))),r_(1),function S8(t){return Q(()=>t)}(s),Li(o=>ZN(o)?Mn:al(o)))}(s,t,e,r).pipe(Q(o=>(t._resolvedData=o,t.data=BN(t,n).resolve,i&&sP(i)&&(t.data[cl]=i.title),null)))}(o.route,r,t,e)),it(()=>s++),r_(1),Ze(o=>s===i.length?P(n):Mn))})}(r.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),it(u=>{const d=new o6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),E_(c=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(it(h=>{d.component=h}),Q(()=>{})));for(const h of d.children)f.push(...u(h));return f};return e_(u(c.targetSnapshot.root)).pipe(vd(),po(1))}),E_(()=>this.afterPreactivation()),Q(c=>{const u=function _6(t,e,n){const r=yl(t,e._root,n?n._root:void 0);return new UN(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),it(()=>{this.events.next(new c_)}),((t,e,n,r)=>Q(i=>(new S6(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),po(1),it({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function A8(t){return $e((e,n)=>{Bt(t).subscribe(Ue(n,()=>n.complete(),wh)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(it(c=>{throw c}))),ll(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Li(c=>{if(l=!0,KN(c))this.events.next(new ml(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function E6(t){return KN(t)&&Ui(t.url)}(c)?this.events.next(new u_(c.url)):o.resolve(!1);else{this.events.next(new Sd(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(u){o.reject(u)}}return Mn}))}))}cancelNavigationTransition(r,i,s){const o=new ml(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function aP(t){return t!==gl}let lP=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[cl]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return A(_5)},providedIn:"root"}),e})(),_5=(()=>{var t;class e extends lP{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(R(oN))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),y5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return A(E5)},providedIn:"root"}),e})();class v5{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let E5=(()=>{var t;class e extends v5{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nt(t)))(i||t)}}(),t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Od=new T("",{providedIn:"root",factory:()=>({})});let C5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:function(){return A(w5)},providedIn:"root"}),e})(),w5=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Il=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Il||{});function cP(t,e){t.events.pipe(Er(n=>n instanceof Xr||n instanceof ml||n instanceof Sd||n instanceof yo),Q(n=>n instanceof Xr||n instanceof yo?Il.COMPLETE:n instanceof ml&&(0===n.code||1===n.code)?Il.REDIRECTING:Il.FAILED),Er(n=>n!==Il.REDIRECTING),po(1)).subscribe(()=>{e()})}function I5(t){throw t}function b5(t,e,n){return e.parse("/")}const D5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let un=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=A(LM),this.isNgZoneEnabled=!1,this._events=new hn,this.options=A(Od,{optional:!0})||{},this.pendingTasks=A(Qu),this.errorHandler=this.options.errorHandler||I5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||b5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=A(C5),this.routeReuseStrategy=A(y5),this.titleStrategy=A(lP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=A(bo,{optional:!0})?.flat()??[],this.navigationTransitions=A(xd),this.urlSerializer=A(dl),this.location=A(Mm),this.componentInputBindingEnabled=!!A(Md,{optional:!0}),this.eventsSubscription=new At,this.isNgZoneEnabled=A(oe)instanceof oe&&oe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _o,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=jN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(uP(i)&&this._events.next(i));if(i instanceof Td)aP(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof yo)this.rawUrlTree=s.rawUrl;else if(i instanceof FN){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof c_)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof ml)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof u_){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aP(s.source)};this.scheduleNavigation(o,gl,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof Sd&&this.restoreHistory(s,!0),i instanceof Xr&&(this.navigated=!0),uP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gl,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(__),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a;let f,d=null;switch(l){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=MN(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return RN(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Ui(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,gl,null,i)}navigate(r,i={skipLocationChange:!1}){return function S5(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new C(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...D5}:!1===i?{...T5}:i,Ui(r))return EN(this.currentUrlTree,r,s);const o=this.parseUrl(r);return EN(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});const d=this.pendingTasks.add();return cP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function uP(t){return!(t instanceof c_||t instanceof u_)}class dP{}let R5=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Er(r=>r instanceof Xr),go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Zg(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return He(s).pipe(gs())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):P(null);const o=s.pipe(Ze(a=>null===a?P(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?He([o,this.loader.loadComponent(i)]).pipe(gs()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(R(un),R(VM),R(qt),R(dP),R(C_))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const I_=new T("");let fP=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Td?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Xr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yo&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof LN&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new LN(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function RS(){throw new Error("invalid")}()},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();function wr(t,e){return{\u0275kind:t,\u0275providers:e}}function pP(){const t=A(Et);return e=>{const n=t.get(uo);if(e!==n.components[0])return;const r=t.get(un),i=t.get(gP);1===t.get(b_)&&r.initialNavigation(),t.get(mP,null,q.Optional)?.setUpPreloading(),t.get(I_,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gP=new T("",{factory:()=>new hn}),b_=new T("",{providedIn:"root",factory:()=>1}),mP=new T("");function x5(t){return wr(0,[{provide:mP,useExisting:R5},{provide:dP,useExisting:t}])}const _P=new T("ROUTER_FORROOT_GUARD"),F5=[Mm,{provide:dl,useClass:i_},un,_l,{provide:Eo,useFactory:function hP(t){return t.routerState.root},deps:[un]},C_,[]];function L5(){return new WM("Router",un)}let yP=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[F5,[],{provide:bo,multi:!0,useValue:r},{provide:_P,useFactory:B5,deps:[[un,new xt,new Jc]]},{provide:Od,useValue:i||{}},i?.useHash?{provide:Oi,useClass:qz}:{provide:Oi,useClass:CR},{provide:I_,useFactory:()=>{const t=A(fq),e=A(oe),n=A(Od),r=A(xd),i=A(dl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new fP(i,r,t,e,n)}},i?.preloadingStrategy?x5(i.preloadingStrategy).\u0275providers:[],{provide:WM,multi:!0,useFactory:L5},i?.initialNavigation?$5(i):[],i?.bindToComponentInputs?wr(8,[WN,{provide:Md,useExisting:WN}]).\u0275providers:[],[{provide:vP,useFactory:pP},{provide:vm,multi:!0,useExisting:vP}]]}}static forChild(r){return{ngModule:e,providers:[{provide:bo,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(R(_P,8))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({}),e})();function B5(t){return"guarded"}function $5(t){return["disabled"===t.initialNavigation?wr(3,[{provide:dm,multi:!0,useFactory:()=>{const e=A(un);return()=>{e.setUpLocationChangeListener()}}},{provide:b_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?wr(2,[{provide:b_,useValue:0},{provide:dm,multi:!0,deps:[Et],useFactory:e=>{const n=e.get(Wz,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(un),s=e.get(gP);cP(i,()=>{r(!0)}),e.get(xd).afterPreactivation=()=>(r(!0),s.closed?P(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const vP=new T(""),G5=[];let W5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({imports:[yP.forRoot(G5),yP]}),e})(),EP=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(w(dr),w(Kt))},t.\u0275dir=F({type:t}),e})(),ji=(()=>{var t;class e extends EP{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nt(t)))(i||t)}}(),t.\u0275dir=F({type:t,features:[ae]}),e})();const Gn=new T("NgValueAccessor"),K5={provide:Gn,useExisting:ge(()=>Fd),multi:!0},Q5=new T("CompositionEventMode");let Fd=(()=>{var t;class e extends EP{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Y5(){const t=Yr()?Yr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(w(dr),w(Kt),w(Q5,8))},t.\u0275dir=F({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&rt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ie([K5]),ae]}),e})();const dt=new T("NgValidators"),ei=new T("NgAsyncValidators");function NP(t){return null!=t}function PP(t){return Ga(t)?He(t):t}function kP(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function xP(t,e){return e.map(n=>n(t))}function OP(t){return t.map(e=>function X5(t){return!t.validate}(e)?e:n=>e.validate(n))}function D_(t){return null!=t?function FP(t){if(!t)return null;const e=t.filter(NP);return 0==e.length?null:function(n){return kP(xP(n,e))}}(OP(t)):null}function T_(t){return null!=t?function LP(t){if(!t)return null;const e=t.filter(NP);return 0==e.length?null:function(n){return function z5(...t){const e=Cb(t),{args:n,keys:r}=uN(t),i=new De(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Bt(n[u]).subscribe(Ue(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?fN(r,a):a),s.complete())}))}});return e?i.pipe(dN(e)):i}(xP(n,e).map(PP)).pipe(Q(kP))}}(OP(t)):null}function VP(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function UP(t){return t._rawValidators}function jP(t){return t._rawAsyncValidators}function S_(t){return t?Array.isArray(t)?t:[t]:[]}function Vd(t,e){return Array.isArray(t)?t.includes(e):t===e}function BP(t,e){const n=S_(e);return S_(t).forEach(i=>{Vd(n,i)||n.push(i)}),n}function $P(t,e){return S_(e).filter(n=>!Vd(t,n))}class HP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=D_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=T_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class bt extends HP{get formDirective(){return null}get path(){return null}}class ti extends HP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WP=(()=>{var t;class e extends GP{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(w(ti,2))},t.\u0275dir=F({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ae]}),e})(),zP=(()=>{var t;class e extends GP{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(w(bt,10))},t.\u0275dir=F({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Bu("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ae]}),e})();const bl="VALID",jd="INVALID",Do="PENDING",Dl="DISABLED";function R_(t){return(Bd(t)?t.validators:t)||null}function N_(t,e){return(Bd(e)?e.asyncValidators:t)||null}function Bd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class QP{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bl}get invalid(){return this.status===jd}get pending(){return this.status==Do}get disabled(){return this.status===Dl}get enabled(){return this.status!==Dl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($P(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($P(e,this._rawAsyncValidators))}hasValidator(e){return Vd(this._rawValidators,e)}hasAsyncValidator(e){return Vd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Do,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Dl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=bl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bl||this.status===Do)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dl:bl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Do,this._hasOwnPendingAsyncValidator=!0;const n=PP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Dl:this.errors?jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Do)?Do:this._anyControlsHaveStatus(jd)?jd:bl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function n7(t){return Array.isArray(t)?D_(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function r7(t){return Array.isArray(t)?T_(t):t||null}(this._rawAsyncValidators)}}class $d extends QP{constructor(e,n,r){super(R_(n),N_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function YP(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new C(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function KP(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const To=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Hd}),Hd="always";function Tl(t,e,n=Hd){P_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function o7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ZP(t,e)})}(t,e),function l7(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function a7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ZP(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function s7(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Wd(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function P_(t,e){const n=UP(t);null!==e.validator?t.setValidators(VP(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=jP(t);null!==e.asyncValidator?t.setAsyncValidators(VP(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();zd(e._rawValidators,i),zd(e._rawAsyncValidators,i)}function qd(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=UP(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=jP(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return zd(e._rawValidators,r),zd(e._rawAsyncValidators,r),n}function ZP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ek(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function tk(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Bi=class extends QP{constructor(e=null,n,r){super(R_(n),N_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=tk(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ek(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ek(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ok=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=F({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const _7={provide:Gn,useExisting:ge(()=>L_),multi:!0};let L_=(()=>{var t;class e extends ji{writeValue(r){this.setProperty("value",r??"")}registerOnChange(r){this.onChange=i=>{r(""==i?null:parseFloat(i))}}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=nt(t)))(i||t)}}(),t.\u0275dir=F({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&rt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ie([_7]),ae]}),e})(),ak=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({}),e})();const V_=new T("NgModelWithFormControlWarning"),w7={provide:bt,useExisting:ge(()=>Kd)};let Kd=(()=>{var t;class e extends bt{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return Tl(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Wd(r.control||null,r,!1),function f7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function JP(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,s=this.form.get(r.path);i!==s&&(Wd(i||null,r),(t=>t instanceof Bi)(s)&&(Tl(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function XP(t,e){P_(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function c7(t,e){return qd(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){P_(this.form,this),this._oldForm&&qd(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(w(dt,10),w(ei,10),w(To,8))},t.\u0275dir=F({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&rt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ie([w7]),ae,sn]}),e})();const D7={provide:ti,useExisting:ge(()=>B_)};let B_=(()=>{var t;class e extends ti{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function O_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Fd?n=s:function d7(t){return Object.getPrototypeOf(t.constructor)===ji}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){this._added||this._setUpControl(),function x_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function Gd(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(w(bt,13),w(dt,10),w(ei,10),w(Gn,10),w(V_,8))},t.\u0275dir=F({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ie([D7]),ae,sn]}),e})(),j7=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({imports:[ak]}),e})(),$7=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:V_,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:To,useValue:r.callSetDisabledState??Hd}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({imports:[j7]}),e})();class H7{constructor(){this.id=0,this.firstName="",this.LastName="",this.Email="",this.mobile="",this.salary=""}}class Yd{}class Qd{}class Wn{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Wn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Wn;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Wn?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class G7{encodeKey(e){return Ik(e)}encodeValue(e){return Ik(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const z7=/%(\d[a-f0-9])/gi,q7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ik(t){return encodeURIComponent(t).replace(z7,(e,n)=>q7[n]??e)}function Zd(t){return`${t}`}class ni{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new G7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function W7(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Zd):[Zd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ni({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Zd(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Zd(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class K7{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function bk(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Dk(t){return typeof Blob<"u"&&t instanceof Blob}function Tk(t){return typeof FormData<"u"&&t instanceof FormData}class Al{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Y7(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Wn),this.context||(this.context=new K7),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new ni,this.urlWithParams=n}serializeBody(){return null===this.body?null:bk(this.body)||Dk(this.body)||Tk(this.body)||function Q7(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tk(this.body)?null:Dk(this.body)?this.body.type||null:bk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),c)),new Al(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var So=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(So||{});class W_{constructor(e,n=200,r="OK"){this.headers=e.headers||new Wn,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class z_ extends W_{constructor(e={}){super(e),this.type=So.ResponseHeader}clone(e={}){return new z_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ao extends W_{constructor(e={}){super(e),this.type=So.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ao({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sk extends W_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function q_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ak=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Al)o=r;else{let c,u;c=s.headers instanceof Wn?s.headers:new Wn(s.headers),s.params&&(u=s.params instanceof ni?s.params:new ni({fromObject:s.params})),o=new Al(r,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=P(o).pipe(go(c=>this.handler.handle(c)));if(r instanceof Al||"events"===s.observe)return a;const l=a.pipe(Er(c=>c instanceof Ao));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Q(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Q(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Q(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(Q(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new ni).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,q_(s,i))}post(r,i,s={}){return this.request("POST",r,q_(s,i))}put(r,i,s={}){return this.request("PUT",r,q_(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Yd))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();function Nk(t,e){return e(t)}function X7(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const e9=new T(""),Ml=new T(""),Pk=new T("");function t9(){let t=null;return(e,n)=>{null===t&&(t=(A(e9,{optional:!0})??[]).reduceRight(X7,Nk));const r=A(Qu),i=r.add();return t(e,n).pipe(ll(()=>r.remove(i)))}}let kk=(()=>{var t;class e extends Yd{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=A(Qu)}handle(r){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Ml),...this.injector.get(Pk,[])]));this.chain=s.reduceRight((o,a)=>function J7(t,e,n){return(r,i)=>n.runInContext(()=>e(r,s=>t(s,i)))}(o,a,this.injector),Nk)}const i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ll(()=>this.pendingTasks.remove(i)))}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Qd),R(qt))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();const s9=/^\)\]\}',?\n/;let Ok=(()=>{var t;class e{constructor(r){this.xhrFactory=r}handle(r){if("JSONP"===r.method)throw new C(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?He(i.\u0275loadImpl()):P(null)).pipe(pn(()=>new De(o=>{const a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){const m=r.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(r.responseType){const m=r.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const l=r.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const m=a.statusText||"OK",y=new Wn(a.getAllResponseHeaders()),_=function o9(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||r.url;return c=new z_({headers:y,status:a.status,statusText:m,url:_}),c},d=()=>{let{headers:m,status:y,statusText:_,url:S}=u(),M=null;204!==y&&(M=typeof a.response>"u"?a.responseText:a.response),0===y&&(y=M?200:0);let j=y>=200&&y<300;if("json"===r.responseType&&"string"==typeof M){const Ve=M;M=M.replace(s9,"");try{M=""!==M?JSON.parse(M):null}catch(pt){M=Ve,j&&(j=!1,M={error:pt,text:M})}}j?(o.next(new Ao({body:M,headers:m,status:y,statusText:_,url:S||void 0})),o.complete()):o.error(new Sk({error:M,headers:m,status:y,statusText:_,url:S||void 0}))},f=m=>{const{url:y}=u(),_=new Sk({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(_)};let h=!1;const p=m=>{h||(o.next(u()),h=!0);let y={type:So.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),"text"===r.responseType&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:So.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),null!==l&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),o.next({type:So.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),null!==l&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}}return(t=e).\u0275fac=function(r){return new(r||t)(R($R))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();const K_=new T("XSRF_ENABLED"),Fk=new T("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Lk=new T("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vk{}let c9=(()=>{var t;class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=NR(r,this.cookieName),this.lastCookieString=r),this.lastToken}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Qt),R(ur),R(Fk))},t.\u0275prov=N({token:t,factory:t.\u0275fac}),e})();function u9(t,e){const n=t.url.toLowerCase();if(!A(K_)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=A(Vk).getToken(),i=A(Lk);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ri=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ri||{});function Hi(t,e){return{\u0275kind:t,\u0275providers:e}}function d9(...t){const e=[Ak,Ok,kk,{provide:Yd,useExisting:kk},{provide:Qd,useExisting:Ok},{provide:Ml,useValue:u9,multi:!0},{provide:K_,useValue:!0},{provide:Vk,useClass:c9}];for(const n of t)e.push(...n.\u0275providers);return function zp(t){return{\u0275providers:t}}(e)}const Uk=new T("LEGACY_INTERCEPTOR_FN");let h9=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({providers:[d9(Hi(ri.LegacyInterceptors,[{provide:Uk,useFactory:t9},{provide:Ml,useExisting:Uk,multi:!0}]))]}),e})(),jk=(()=>{var t;class e{constructor(r){this.http=r}putempolyees(r){return this.http.post("http://localhost:3000/posts",r).pipe(Q(i=>i))}getempolyees(){return this.http.get("http://localhost:3000/posts").pipe(Q(r=>r))}deleteempolyees(r){return this.http.delete("http://localhost:3000/posts/"+r).pipe(Q(i=>i))}updateempolyees(r,i){return this.http.put("http://localhost:3000/posts/"+r,i).pipe(Q(s=>s))}getData(){return this.http.get("https://empolyee-8982a-default-rtdb.firebaseio.com/data.json")}savebook(r){return this.http.post("https://empolyee-8982a-default-rtdb.firebaseio.com/data.json",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(R(Ak))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function v9(t,e){if(1&t){const n=Uu();le(0,"tbody")(1,"tr")(2,"th"),fe(3),Y(),le(4,"td"),fe(5),Y(),le(6,"td"),fe(7),Y(),le(8,"td"),fe(9),Y(),le(10,"td"),fe(11),Y(),le(12,"td"),fe(13),Y(),le(14,"td")(15,"button",29),rt("click",function(){const s=ga(n).$implicit;return ma(Wa().onEdit(s))}),fe(16,"Edit"),Y(),le(17,"button",30),rt("click",function(){const s=ga(n).$implicit;return ma(Wa().deleteempolyeedetails(s))}),fe(18,"delete"),Y()()()()}if(2&t){const n=e.$implicit;vn(3),qr(n.id),vn(2),qr(n.firstName),vn(2),qr(n.LastName),vn(2),qr(n.email),vn(2),qr(n.salary),vn(2),qr(n.mobile)}}function E9(t,e){if(1&t){const n=Uu();le(0,"button",31),rt("click",function(){return ga(n),ma(Wa().postempolyeedetails())}),fe(1,"Add"),Y()}}function C9(t,e){if(1&t){const n=Uu();le(0,"button",32),rt("click",function(){return ga(n),ma(Wa().Updateempolyeedetails())}),fe(1,"update"),Y()}}let w9=(()=>{var t;class e{constructor(r){this.api=r,this.Employeeform=new $d({FirstName:new Bi,LastName:new Bi,Email:new Bi,Salary:new Bi,mobile:new Bi}),this.employeemodelobj=new H7}postempolyeedetails(){this.employeemodelobj.firstName=this.Employeeform.value.FirstName,this.employeemodelobj.LastName=this.Employeeform.value.LastName,this.employeemodelobj.Email=this.Employeeform.value.Email,this.employeemodelobj.mobile=this.Employeeform.value.mobile,this.employeemodelobj.salary=this.Employeeform.value.Salary,this.api.putempolyees(this.employeemodelobj).subscribe(r=>{console.log(r),alert("empolyee added succes"),this.Employeeform.reset(),this.getempolyeedetails()},r=>{alert("error is there")})}ngOnInit(){this.getempolyeedetails()}getempolyeedetails(){this.api.getempolyees().subscribe(r=>{this.empolyedetails=r,console.log(r)})}deleteempolyeedetails(r){this.api.deleteempolyees(r.id).subscribe(i=>{this.getempolyeedetails()})}onEdit(r){this.showadd=!1,this.showupadte=!0,this.employeemodelobj.id=r.id,this.Employeeform.controls.FirstName.setValue(r.firstName),this.Employeeform.controls.LastName.setValue(r.LastName),this.Employeeform.controls.Email.setValue(r.Email),this.Employeeform.controls.Salary.setValue(r.salary),this.Employeeform.controls.mobile.setValue(r.mobile)}Updateempolyeedetails(){this.employeemodelobj.firstName=this.Employeeform.value.FirstName,this.employeemodelobj.LastName=this.Employeeform.value.LastName,this.employeemodelobj.Email=this.Employeeform.value.Email,this.employeemodelobj.mobile=this.Employeeform.value.mobile,this.employeemodelobj.salary=this.Employeeform.value.Salary,this.api.updateempolyees(this.employeemodelobj.id,this.employeemodelobj).subscribe(r=>{alert("update successfully")}),this.getempolyeedetails()}clickonaddempolyee(){this.Employeeform.reset(),this.showadd=!0,this.showupadte=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(w(jk))},t.\u0275cmp=Oc({type:t,selectors:[["employe"]],decls:60,vars:4,consts:[[1,"navbar","navbar-light","bg-primary"],[1,"container-fluid"],[2,"color","white"],[1,"d-flex"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-success",3,"click"],[1,"table","mt-3"],["scope","col"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["formControlName","FirstName","type","text","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control"],["id","emailHelp",1,"form-text"],["for","exampleInputPassword1",1,"form-label"],["formControlName","LastName","type","text","id","exampleInputPassword1",1,"form-control"],["formControlName","Email","type","email","id","exampleInputPassword1",1,"form-control"],["formControlName","mobile","type","number","id","exampleInputPassword1",1,"form-control"],["formControlName","Salary","type","number","id","exampleInputPassword1",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-info",3,"click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-info",3,"click"],[1,"btn","btn-danger","mx-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-info",3,"click"]],template:function(r,i){1&r&&(le(0,"nav",0)(1,"div",1)(2,"h1",2),fe(3,"Angular Crud"),Y(),le(4,"div",3)(5,"button",4),rt("click",function(){return i.clickonaddempolyee()}),fe(6,"Add empolyee"),Y()()()(),le(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),fe(11,"id"),Y(),le(12,"th",6),fe(13,"First name"),Y(),le(14,"th",6),fe(15,"Last name"),Y(),le(16,"th",6),fe(17,"email"),Y(),le(18,"th",6),fe(19,"mobile number"),Y(),le(20,"th",6),fe(21,"salary"),Y(),le(22,"th",6),fe(23,"Action"),Y()()(),Vu(24,v9,19,6,"tbody",7),Y(),le(25,"div",8)(26,"div",9)(27,"div",10)(28,"div",11)(29,"h5",12),fe(30,"Employee detail"),Y(),Un(31,"button",13),Y(),le(32,"div",14)(33,"form",15)(34,"div",16)(35,"label",17),fe(36,"First Name"),Y(),Un(37,"input",18)(38,"div",19),Y(),le(39,"div",16)(40,"label",20),fe(41,"Last Name"),Y(),Un(42,"input",21),Y(),le(43,"div",16)(44,"label",20),fe(45,"Email Id"),Y(),Un(46,"input",22),Y(),le(47,"div",16)(48,"label",20),fe(49,"mobile Number"),Y(),Un(50,"input",23),Y(),le(51,"div",16)(52,"label",20),fe(53,"Salary"),Y(),Un(54,"input",24),Y()(),le(55,"div",25)(56,"button",26),fe(57,"Close"),Y(),Vu(58,E9,2,0,"button",27),Vu(59,C9,2,0,"button",28),Y()()()()()),2&r&&(vn(24),io("ngForOf",i.empolyedetails),vn(9),io("formGroup",i.Employeeform),vn(25),io("ngIf",i.showadd),vn(1),io("ngIf",i.showupadte))},dependencies:[xR,FR,ok,Fd,L_,WP,zP,Kd,B_]}),e})(),I9=(()=>{var t;class e{constructor(){this.title="victory"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Oc({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Un(0,"employe")},dependencies:[w9]}),e})();function Bk(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){Bk(s,r,i,o,a,"next",l)}function a(l){Bk(s,r,i,o,a,"throw",l)}o(void 0)})}}const b=function(t,e){if(!t)throw Mo(e)},Mo=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},$k=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0;let f=(15&a)<<2|c>>6,h=63&c;l||(h=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($k(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new D9;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hk=function(t){const e=$k(t);return Jd.encodeByteArray(e,!0)},ef=function(t){return Hk(t).replace(/\./g,"")},tf=function(t){try{return Jd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T9(t){return Gk(void 0,t)}function Gk(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!S9(n)||(t[n]=Gk(t[n],e[n]));return t}function S9(t){return"__proto__"!==t}const nf=()=>{try{return function A9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Wk=()=>{var t;return null===(t=nf())||void 0===t?void 0:t.config};class Ro{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Q_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function Z_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function zk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Gi(){try{return"object"==typeof indexedDB}catch{return!1}}function Rl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function X_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}}class qn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function V9(t,e){return t.replace(U9,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new zn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const U9=/\{\$([^}]+)}/g;function Nl(t){return JSON.parse(t)}function st(t){return JSON.stringify(t)}const rf=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Nl(tf(s[0])||""),n=Nl(tf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function No(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function J_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Kk(s)&&Kk(o)){if(!J_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kk(t){return null!==t&&"object"==typeof t}function ey(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class $9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class G9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function W9(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=ty),void 0===i.error&&(i.error=ty),void 0===i.complete&&(i.complete=ty);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ty(){}const lf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},q9=1e3,K9=2,Y9=144e5,Q9=.5;function ny(t,e=q9,n=K9){const r=e*Math.pow(n,t),i=Math.round(Q9*r*(Math.random()-.5)*2);return Math.min(Y9,r+i)}function ii(t){return t&&t._delegate?t._delegate:t}class ft{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wi="[DEFAULT]";class X9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ro;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function eK(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Wi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const ry=[];var ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{});const Yk={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},nK=ue.INFO,rK={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},iK=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=rK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Po{constructor(e){this.name=e,this._logLevel=nK,this._logHandler=iK,this._userLogHandler=null,ry.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const sK=(t,e)=>e.some(n=>t instanceof n);let Qk,Zk;const Xk=new WeakMap,iy=new WeakMap,Jk=new WeakMap,sy=new WeakMap,oy=new WeakMap;let ay={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Jk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fK(t){return"function"==typeof t?function dK(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aK(){return Zk||(Zk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ly(this),e),si(Xk.get(this))}:function(...e){return si(t.apply(ly(this),e))}:function(e,...n){const r=t.call(ly(this),e,...n);return Jk.set(r,e.sort?e.sort():[e]),si(r)}}(t):(t instanceof IDBTransaction&&function cK(t){if(iy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});iy.set(t,e)}(t),sK(t,function oK(){return Qk||(Qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,ay):t)}function si(t){if(t instanceof IDBRequest)return function lK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xk.set(n,t)}).catch(()=>{}),oy.set(e,t),e}(t);if(sy.has(t))return sy.get(t);const e=fK(t);return e!==t&&(sy.set(t,e),oy.set(e,t)),e}const ly=t=>oy.get(t),pK=["get","getKey","getAll","getAllKeys","count"],gK=["put","add","delete","clear"],cy=new Map;function ex(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(cy.get(e))return cy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pK.includes(n))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return cy.set(e,s),s}!function uK(t){ay=t(ay)}(t=>({...t,get:(e,n,r)=>ex(e,n)||t.get(e,n,r),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));class mK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function _K(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const uy="@firebase/app",zi=new Po("@firebase/app"),cf="[DEFAULT]",HK={[uy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qi=new Map,uf=new Map;function GK(t,e){try{t.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dt(t){const e=t.name;if(uf.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;uf.set(e,t);for(const n of qi.values())GK(n,t);return!0}function df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Dr=new qn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const Pl="9.23.0";function nx(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:cf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=Wk()),!n)throw Dr.create("no-options");const s=qi.get(i);if(s){if(J_(n,s.options)&&J_(r,s.config))return s;throw Dr.create("duplicate-app",{appName:i})}const o=new tK(i);for(const l of uf.values())o.addComponent(l);const a=new zK(n,r,o);return qi.set(i,a),a}function rx(t=cf){const e=qi.get(t);if(!e&&t===cf&&Wk())return nx();if(!e)throw Dr.create("no-app",{appName:t});return e}function ix(){return Array.from(qi.values())}function Le(t,e,n){var r;let i=null!==(r=HK[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void zi.warn(a.join(" "))}Dt(new ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qK="firebase-heartbeat-database",KK=1,kl="firebase-heartbeat-store";let fy=null;function sx(){return fy||(fy=function hK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(si(o.result),l.oldVersion,l.newVersion,si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(qK,KK,{upgrade:(t,e)=>{0===e&&t.createObjectStore(kl)}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),fy}function hy(){return(hy=v(function*(t){try{return yield(yield sx()).transaction(kl).objectStore(kl).get(ax(t))}catch(e){if(e instanceof zn)zi.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e?.message});zi.warn(n.message)}}})).apply(this,arguments)}function ox(t,e){return py.apply(this,arguments)}function py(){return(py=v(function*(t,e){try{const r=(yield sx()).transaction(kl,"readwrite");yield r.objectStore(kl).put(e,ax(t)),yield r.done}catch(n){if(n instanceof zn)zi.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n?.message});zi.warn(r.message)}}})).apply(this,arguments)}function ax(t){return`${t.name}!${t.options.appId}`}class XK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lx();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=lx(),{heartbeatsToSend:r,unsentEntries:i}=function JK(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ef(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function lx(){return(new Date).toISOString().substring(0,10)}class eY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Gi()&&Rl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function YK(t){return hy.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ox(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return ox(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function cx(t){return ef(JSON.stringify({version:2,heartbeats:t})).length}!function tY(t){Dt(new ft("platform-logger",e=>new mK(e),"PRIVATE")),Dt(new ft("heartbeat",e=>new XK(e),"PRIVATE")),Le(uy,"0.9.13",t),Le(uy,"0.9.13","esm2017"),Le("fire-js","")}(""),Le("firebase","9.23.0","app");const iY=(t,e)=>e.some(n=>t instanceof n);let ux,dx;const fx=new WeakMap,gy=new WeakMap,hx=new WeakMap,my=new WeakMap,_y=new WeakMap;let yy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||hx.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function dY(t){return"function"==typeof t?function uY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oY(){return dx||(dx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vy(this),e),oi(fx.get(this))}:function(...e){return oi(t.apply(vy(this),e))}:function(e,...n){const r=t.call(vy(this),e,...n);return hx.set(r,e.sort?e.sort():[e]),oi(r)}}(t):(t instanceof IDBTransaction&&function lY(t){if(gy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gy.set(t,e)}(t),iY(t,function sY(){return ux||(ux=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,yy):t)}function oi(t){if(t instanceof IDBRequest)return function aY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fx.set(n,t)}).catch(()=>{}),_y.set(e,t),e}(t);if(my.has(t))return my.get(t);const e=dY(t);return e!==t&&(my.set(t,e),_y.set(e,t)),e}const vy=t=>_y.get(t),hY=["get","getKey","getAll","getAllKeys","count"],pY=["put","add","delete","clear"],Ey=new Map;function px(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ey.get(e))return Ey.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hY.includes(n))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return Ey.set(e,s),s}!function cY(t){yy=t(yy)}(t=>({...t,get:(e,n,r)=>px(e,n)||t.get(e,n,r),has:(e,n)=>!!px(e,n)||t.has(e,n)}));const gx="@firebase/installations",Cy="0.6.4",mx=1e4,_x=`w:${Cy}`,yx="FIS_v2",gY="https://firebaseinstallations.googleapis.com/v1",mY=36e5,Tr=new qn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vx(t){return t instanceof zn&&t.code.includes("request-failed")}function wy({projectId:t}){return`${gY}/projects/${t}/installations`}function Ex(t){return{token:t.token,requestStatus:2,expiresIn:EY(t.expiresIn),creationTime:Date.now()}}function Iy(t,e){return by.apply(this,arguments)}function by(){return(by=v(function*(t,e){const r=(yield e.json()).error;return Tr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Cx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Dy(t){return Ty.apply(this,arguments)}function Ty(){return(Ty=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function EY(t){return Number(t.replace("s","000"))}function Sy(){return(Sy=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wy(t),i=Cx(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:yx,appId:t.appId,sdkVersion:_x})},l=yield Dy(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Ex(c.authToken)}}throw yield Iy("Create Installation",l)})).apply(this,arguments)}function Ix(t){return new Promise(e=>{setTimeout(e,t)})}const bY=/^[cdef][\w-]{21}$/,Ay="";function DY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function TY(t){return function IY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return bY.test(n)?n:Ay}catch{return Ay}}function ko(t){return`${t.appName}!${t.appId}`}const xo=new Map;function bx(t,e){const n=ko(t);Dx(n,e),function MY(t,e){const n=function Tx(){return!Ki&&"BroadcastChannel"in self&&(Ki=new BroadcastChannel("[Firebase] FID Change"),Ki.onmessage=t=>{Dx(t.data.key,t.data.fid)}),Ki}();n&&n.postMessage({key:t,fid:e}),function Sx(){0===xo.size&&Ki&&(Ki.close(),Ki=null)}()}(n,e)}function Dx(t,e){const n=xo.get(t);if(n)for(const r of n)r(e)}let Ki=null;const RY="firebase-installations-database",NY=1,Yi="firebase-installations-store";let My=null;function Ry(){return My||(My=function fY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(oi(o.result),l.oldVersion,l.newVersion,oi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(RY,NY,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Yi)}})),My}function ff(t,e){return Ny.apply(this,arguments)}function Ny(){return(Ny=v(function*(t,e){const n=ko(t),i=(yield Ry()).transaction(Yi,"readwrite"),s=i.objectStore(Yi),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&bx(t,e.fid),e})).apply(this,arguments)}function Py(t){return ky.apply(this,arguments)}function ky(){return(ky=v(function*(t){const e=ko(t),r=(yield Ry()).transaction(Yi,"readwrite");yield r.objectStore(Yi).delete(e),yield r.done})).apply(this,arguments)}function xl(t,e){return xy.apply(this,arguments)}function xy(){return(xy=v(function*(t,e){const n=ko(t),i=(yield Ry()).transaction(Yi,"readwrite"),s=i.objectStore(Yi),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&bx(t,a.fid),a})).apply(this,arguments)}function Oy(t){return Fy.apply(this,arguments)}function Fy(){return Fy=v(function*(t){let e;const n=yield xl(t.appConfig,r=>{const i=function PY(t){return Mx(t||{fid:DY(),registrationStatus:0})}(r),s=function kY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Tr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function xY(t,e){return Ly.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:OY(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Ay?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Fy.apply(this,arguments)}function Ly(){return Ly=v(function*(t,e){try{const n=yield function wY(t,e){return Sy.apply(this,arguments)}(t,e);return ff(t.appConfig,n)}catch(n){throw vx(n)&&409===n.customData.serverCode?yield Py(t.appConfig):yield ff(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ly.apply(this,arguments)}function OY(t){return Vy.apply(this,arguments)}function Vy(){return(Vy=v(function*(t){let e=yield Ax(t.appConfig);for(;1===e.registrationStatus;)yield Ix(100),e=yield Ax(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Oy(t);return r||n}return e})).apply(this,arguments)}function Ax(t){return xl(t,e=>{if(!e)throw Tr.create("installation-not-found");return Mx(e)})}function Mx(t){return function FY(t){return 1===t.registrationStatus&&t.registrationTime+mx<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Uy(){return(Uy=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function VY(t,{fid:e}){return`${wy(t)}/${e}/authTokens:generate`}(t,n),i=function wx(t,{refreshToken:e}){const n=Cx(t);return n.append("Authorization",function CY(t){return`${yx} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:_x,appId:t.appId}})},l=yield Dy(()=>fetch(r,a));if(l.ok)return Ex(yield l.json());throw yield Iy("Generate Auth Token",l)})).apply(this,arguments)}function jy(t){return By.apply(this,arguments)}function By(){return By=v(function*(t,e=!1){let n;const r=yield xl(t.appConfig,s=>{if(!Nx(s))throw Tr.create("not-registered");const o=s.authToken;if(!e&&function BY(t){return 2===t.requestStatus&&!function $Y(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mY}(t)}(o))return s;if(1===o.requestStatus)return n=function UY(t,e){return $y.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Tr.create("app-offline");const a=function HY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function jY(t,e){return Hy.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),By.apply(this,arguments)}function $y(){return($y=v(function*(t,e){let n=yield Rx(t.appConfig);for(;1===n.authToken.requestStatus;)yield Ix(100),n=yield Rx(t.appConfig);const r=n.authToken;return 0===r.requestStatus?jy(t,e):r})).apply(this,arguments)}function Rx(t){return xl(t,e=>{if(!Nx(e))throw Tr.create("not-registered");return function GY(t){return 1===t.requestStatus&&t.requestTime+mx<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Hy(){return Hy=v(function*(t,e){try{const n=yield function LY(t,e){return Uy.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield ff(t.appConfig,r),n}catch(n){if(!vx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ff(t.appConfig,r)}else yield Py(t.appConfig);throw n}}),Hy.apply(this,arguments)}function Nx(t){return void 0!==t&&2===t.registrationStatus}function Gy(){return(Gy=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Oy(e);return r?r.catch(console.error):jy(e).catch(console.error),n.fid})).apply(this,arguments)}function Wy(){return Wy=v(function*(t,e=!1){const n=t;return yield function qY(t){return zy.apply(this,arguments)}(n),(yield jy(n,e)).token}),Wy.apply(this,arguments)}function zy(){return(zy=v(function*(t){const{registrationPromise:e}=yield Oy(t);e&&(yield e)})).apply(this,arguments)}function Yy(t){return Tr.create("missing-app-config-values",{valueName:t})}const Px="installations",XY=t=>{const e=t.getProvider("app").getImmediate(),n=function QY(t){if(!t||!t.options)throw Yy("App Configuration");if(!t.name)throw Yy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:df(e,"heartbeat"),_delete:()=>Promise.resolve()}},JY=t=>{const n=df(t.getProvider("app").getImmediate(),Px).getImmediate();return{getId:()=>function WY(t){return Gy.apply(this,arguments)}(n),getToken:i=>function zY(t){return Wy.apply(this,arguments)}(n,i)}};(function eQ(){Dt(new ft(Px,XY,"PUBLIC")),Dt(new ft("installations-internal",JY,"PRIVATE"))})(),Le(gx,Cy),Le(gx,Cy,"esm2017");const Qy="@firebase/remote-config",Vt=new qn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dQ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function fQ(t=navigator){return t.languages&&t.languages[0]||t.language}class hQ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:fQ()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((y,_)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",_(S)})});let f;try{yield Promise.race([u,d]),f=yield u}catch(y){let _="fetch-client-network";throw"AbortError"===y?.name&&(_="fetch-timeout"),Vt.create(_,{originalErrorMessage:y?.message})}let h=f.status;const p=f.headers.get("ETag")||void 0;let g,m;if(200===f.status){let y;try{y=yield f.json()}catch(_){throw Vt.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=y.entries,m=y.state}if("INSTANCE_STATE_UNSPECIFIED"===m?h=500:"NO_CHANGE"===m?h=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==h&&200!==h)throw Vt.create("fetch-status",{httpStatus:h});return{status:h,eTag:p,config:g}})()}}class mQ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function pQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function gQ(t){if(!(t instanceof zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+ny(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class vQ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pf(t,e){const n=t.target.error||void 0;return Vt.create(e,{originalErrorMessage:n&&n?.message})}const Qi="app_namespace_store";class IQ{constructor(e,n,r,i=function wQ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qi,{keyPath:"compositeKey"})}}catch(n){e(Vt.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Qi],"readonly").objectStore(Qi),l=n.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(pf(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(Vt.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Qi],"readwrite").objectStore(Qi),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:n});u.onerror=d=>{o(pf(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Vt.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Qi],"readwrite").objectStore(Qi),l=n.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(pf(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Vt.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class bQ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function TQ(){return tv.apply(this,arguments)}function tv(){return(tv=v(function*(){if(!Gi())return!1;try{return yield Rl()}catch{return!1}})).apply(this,arguments)}!function DQ(){Dt(new ft("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vt.create("registration-window");if(!Gi())throw Vt.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Vt.create("registration-project-id");if(!o)throw Vt.create("registration-api-key");if(!a)throw Vt.create("registration-app-id");const l=new IQ(a,r.name,n=n||"firebase"),c=new bQ(l),u=new Po(Qy);u.logLevel=ue.ERROR;const d=new hQ(i,Pl,n,s,o,a),f=new mQ(d,l),h=new dQ(f,l,c,u),p=new vQ(r,h,c,l,u);return function lQ(t){const e=ii(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Le(Qy,"0.4.4"),Le(Qy,"0.4.4","esm2017")}();const SQ=(t,e)=>e.some(n=>t instanceof n);let Fx,Lx;const Vx=new WeakMap,nv=new WeakMap,Ux=new WeakMap,rv=new WeakMap,iv=new WeakMap;let sv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Ux.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xQ(t){return"function"==typeof t?function kQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function MQ(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ov(this),e),Sr(Vx.get(this))}:function(...e){return Sr(t.apply(ov(this),e))}:function(e,...n){const r=t.call(ov(this),e,...n);return Ux.set(r,e.sort?e.sort():[e]),Sr(r)}}(t):(t instanceof IDBTransaction&&function NQ(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nv.set(t,e)}(t),SQ(t,function AQ(){return Fx||(Fx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sv):t)}function Sr(t){if(t instanceof IDBRequest)return function RQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vx.set(n,t)}).catch(()=>{}),iv.set(e,t),e}(t);if(rv.has(t))return rv.get(t);const e=xQ(t);return e!==t&&(rv.set(t,e),iv.set(e,t)),e}const ov=t=>iv.get(t);function jx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Sr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sr(o.result),l.oldVersion,l.newVersion,Sr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function av(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Sr(n).then(()=>{})}const OQ=["get","getKey","getAll","getAllKeys","count"],FQ=["put","add","delete","clear"],lv=new Map;function Bx(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(lv.get(e))return lv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!OQ.includes(n))return;const s=function(){var o=v(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return lv.set(e,s),s}!function PQ(t){sv=t(sv)}(t=>({...t,get:(e,n,r)=>Bx(e,n)||t.get(e,n,r),has:(e,n)=>!!Bx(e,n)||t.has(e,n)}));const LQ="/firebase-messaging-sw.js",VQ="/firebase-cloud-messaging-push-scope",$x="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",UQ="https://fcmregistrations.googleapis.com/v1",Hx="google.c.a.c_id",jQ="google.c.a.c_l",BQ="google.c.a.ts";var gf=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(gf||{});function Ar(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function GQ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const cv="fcm_token_details_db",WQ=5,Gx="fcm_token_object_Store";function uv(){return uv=v(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(cv))return null;let e=null;return(yield jx(cv,WQ,{upgrade:(r=v(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(Gx))return;const c=a.objectStore(Gx),u=yield c.index("fcmSenderId").get(t);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ar(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ar(d.auth),p256dh:Ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ar(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ar(d.auth),p256dh:Ar(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ar(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield av(cv),yield av("fcm_vapid_details_db"),yield av("undefined"),function qQ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),uv.apply(this,arguments)}const KQ="firebase-messaging-database",YQ=1,Zi="firebase-messaging-store";let dv=null;function fv(){return dv||(dv=jx(KQ,YQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Zi)}})),dv}function Wx(t){return hv.apply(this,arguments)}function hv(){return hv=v(function*(t){const e=_v(t),r=yield(yield fv()).transaction(Zi).objectStore(Zi).get(e);if(r)return r;{const i=yield function zQ(t){return uv.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield pv(t,i),i}}),hv.apply(this,arguments)}function pv(t,e){return gv.apply(this,arguments)}function gv(){return(gv=v(function*(t,e){const n=_v(t),i=(yield fv()).transaction(Zi,"readwrite");return yield i.objectStore(Zi).put(e,n),yield i.done,e})).apply(this,arguments)}function mv(){return(mv=v(function*(t){const e=_v(t),r=(yield fv()).transaction(Zi,"readwrite");yield r.objectStore(Zi).delete(e),yield r.done})).apply(this,arguments)}function _v({appConfig:t}){return t.appId}const ot=new qn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function XQ(t,e){return yv.apply(this,arguments)}function yv(){return(yv=v(function*(t,e){const n=yield wv(t),r=qx(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(Cv(t.appConfig),i)).json()}catch(o){throw ot.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw ot.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ot.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function vv(){return(vv=v(function*(t,e){const n=yield wv(t),r=qx(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${Cv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw ot.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw ot.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ot.create("token-update-no-token");return s.token})).apply(this,arguments)}function zx(t,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=v(function*(t,e){const r={method:"DELETE",headers:yield wv(t)};try{const s=yield(yield fetch(`${Cv(t.appConfig)}/${e}`,r)).json();if(s.error)throw ot.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ot.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Cv({projectId:t}){return`${UQ}/projects/${t}/registrations`}function wv(t){return Iv.apply(this,arguments)}function Iv(){return(Iv=v(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function qx({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==$x&&(i.web.applicationPubKey=r),i}const eZ=6048e5;function bv(){return bv=v(function*(t){const e=yield function rZ(t,e){return Av.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ar(e.getKey("auth")),p256dh:Ar(e.getKey("p256dh"))},r=yield Wx(t.firebaseDependencies);if(r){if(function iZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+eZ?function nZ(t,e){return Tv.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield zx(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Yx(t.firebaseDependencies,n)}return Yx(t.firebaseDependencies,n)}),bv.apply(this,arguments)}function Dv(){return Dv=v(function*(t){const e=yield Wx(t.firebaseDependencies);e&&(yield zx(t.firebaseDependencies,e.token),yield function QQ(t){return mv.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Dv.apply(this,arguments)}function Tv(){return Tv=v(function*(t,e){try{const n=yield function JQ(t,e){return vv.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield pv(t.firebaseDependencies,r),n}catch(n){throw yield function Kx(t){return Dv.apply(this,arguments)}(t),n}}),Tv.apply(this,arguments)}function Yx(t,e){return Sv.apply(this,arguments)}function Sv(){return(Sv=v(function*(t,e){const r={token:yield XQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield pv(t,r),r.token})).apply(this,arguments)}function Av(){return(Av=v(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:GQ(e)})})).apply(this,arguments)}function Qx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function oZ(t,e){e.data&&(t.data=e.data)}(e,t),function aZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function Zx(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Mv(t){return ot.create("missing-app-config-values",{valueName:t})}Zx("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zx("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function cZ(t){if(!t||!t.options)throw Mv("App Configuration Object");if(!t.name)throw Mv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Mv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Rv(){return(Rv=v(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(LQ,{scope:VQ}),t.swRegistration.update().catch(()=>{})}catch(e){throw ot.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Nv(){return(Nv=v(function*(t,e){if(!e&&!t.swRegistration&&(yield function Xx(t){return Rv.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ot.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Pv(){return(Pv=v(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=$x)})).apply(this,arguments)}function kv(){return kv=v(function*(t,e){if(!navigator)throw ot.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ot.create("permission-blocked");return yield function fZ(t,e){return Pv.apply(this,arguments)}(t,e?.vapidKey),yield function dZ(t,e){return Nv.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function tZ(t){return bv.apply(this,arguments)}(t)}),kv.apply(this,arguments)}function xv(){return(xv=v(function*(t,e,n){const r=function pZ(t){switch(t){case gf.NOTIFICATION_CLICKED:return"notification_open";case gf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Hx],message_name:n[jQ],message_time:n[BQ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ov(){return Ov=v(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===gf.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Qx(n)):t.onMessageHandler.next(Qx(n)));const r=n.data;(function lZ(t){return"object"==typeof t&&!!t&&Hx in t})(r)&&"1"===r["google.c.a.e"]&&(yield function hZ(t,e,n){return xv.apply(this,arguments)}(t,n.messageType,r))}),Ov.apply(this,arguments)}const eO="@firebase/messaging",mZ=t=>{const e=new uZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function gZ(t,e){return Ov.apply(this,arguments)}(e,n)),e},_Z=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Jx(t,e){return kv.apply(this,arguments)}(e,r)}};function nO(){return Fv.apply(this,arguments)}function Fv(){return(Fv=v(function*(){try{yield Rl()}catch{return!1}return typeof window<"u"&&Gi()&&X_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yZ(){Dt(new ft("messaging",mZ,"PUBLIC")),Dt(new ft("messaging-internal",_Z,"PRIVATE")),Le(eO,"0.12.4"),Le(eO,"0.12.4","esm2017")}();const mf="analytics",CZ="firebase_id",wZ="origin",IZ=6e4,bZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uv="https://www.googletagmanager.com/gtag/js",qe=new Po("@firebase/analytics"),Tt=new qn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function TZ(t){if(!t.startsWith(Uv)){const e=Tt.create("invalid-gtag-resource",{gtagURL:t});return qe.warn(e.message),""}return t}function rO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function jv(){return(jv=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield rO(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){qe.error(a)}t("config",i,s)})).apply(this,arguments)}function Bv(){return(Bv=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield rO(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){qe.error(s)}})).apply(this,arguments)}const OZ=30,iO=new class LZ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function VZ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function $v(){return($v=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:VZ(r)},s=bZ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Tt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Hv(){return(Hv=v(function*(t,e=iO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Tt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Tt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new HZ;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:IZ),sO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function sO(t,e,n){return Gv.apply(this,arguments)}function Gv(){return Gv=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iO){var s;const{appId:o,measurementId:a}=t;try{yield function BZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Tt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function UZ(t){return $v.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function $Z(t){if(!(t instanceof zn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?ny(n,i.intervalMillis,OZ):ny(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),qe.debug(`Calling attemptFetch again in ${u} millis`),sO(t,d,r,i)}}),Gv.apply(this,arguments)}class HZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Wv,Xv;function zv(){return(zv=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Jv(){return(Jv=v(function*(){if(!Gi())return qe.warn(Tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Rl()}catch(t){return qe.warn(Tt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function eE(){return eE=v(function*(t,e,n,r,i,s,o){var a;const l=function jZ(t){return Hv.apply(this,arguments)}(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&qe.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>qe.error(h)),e.push(l);const c=function QZ(){return Jv.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([l,c]);(function xZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Uv)&&n.src.includes(t))return n;return null})(s)||function AZ(t,e){const n=function SZ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:TZ}),r=document.createElement("script"),i=`${Uv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),Xv&&(i("consent","default",Xv),function oO(t){Xv=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[wZ]="firebase",f.update=!0,null!=d&&(f[CZ]=d),i("config",u.measurementId,f),Wv&&(i("set",Wv),function aO(t){Wv=t}(void 0)),u.measurementId}),eE.apply(this,arguments)}class XZ{constructor(e){this.app=e}_delete(){return delete Kn[this.app.options.appId],Promise.resolve()}}let Kn={},lO=[];const cO={};let dO,Yn,_f="dataLayer",tE=!1;function eX(t,e,n){!function JZ(){const t=[];if(Z_()&&t.push("This is a browser extension environment."),X_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Tt.create("invalid-analytics-context",{errorInfo:e});qe.warn(n.message)}}();const r=t.options.appId;if(!r)throw Tt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Tt.create("no-api-key");qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kn[r])throw Tt.create("already-exists",{id:r});if(!tE){!function MZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_f);const{wrappedGtag:s,gtagCore:o}=function kZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function PZ(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[l,c]=a;yield function NZ(t,e,n,r,i){return Bv.apply(this,arguments)}(t,e,n,l,c)}else if("config"===o){const[l,c]=a;yield function RZ(t,e,n,r,i,s){return jv.apply(this,arguments)}(t,e,n,r,l,c)}else if("consent"===o){const[l]=a;t("consent","update",l)}else if("get"===o){const[l,c,u]=a;t("get",l,c,u)}else if("set"===o){const[l]=a;t("set",l)}else t(o,...a)}catch(l){qe.error(l)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Kn,lO,cO,_f,"gtag");Yn=s,dO=o,tE=!0}return Kn[r]=function ZZ(t,e,n,r,i,s,o){return eE.apply(this,arguments)}(t,lO,cO,e,dO,_f,n),new XZ(t)}function nX(){return nE.apply(this,arguments)}function nE(){return(nE=v(function*(){if(Z_()||!X_()||!Gi())return!1;try{return yield Rl()}catch{return!1}})).apply(this,arguments)}const fO="@firebase/analytics";!function iX(){Dt(new ft(mf,(e,{options:n})=>eX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Dt(new ft("analytics-internal",function t(e){try{const n=e.getProvider(mf).getImmediate();return{logEvent:(r,i,s)=>function rX(t,e,n,r){t=ii(t),function GZ(t,e,n,r,i){return zv.apply(this,arguments)}(Yn,Kn[t.app.options.appId],e,n,r).catch(i=>qe.error(i))}(n,r,i,s)}}catch(n){throw Tt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Le(fO,"0.10.0"),Le(fO,"0.10.0","esm2017")}();class sX extends At{constructor(e,n){super()}schedule(e,n=0){return this}}const yf={setInterval(t,e,...n){const{delegate:r}=yf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=yf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class pO extends sX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ps(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const gO={now:()=>(gO.delegate||Date).now(),delegate:void 0};class Ol{constructor(e,n=Ol.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ol.now=gO.now;class mO extends Ol{constructor(e,n=Ol.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const lX=new class aX extends mO{}(class oX extends pO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),cX=new mO(pO),iE=new Ws("7.6.1"),sE="__angularfire_symbol__analyticsIsSupportedValue",oE="__angularfire_symbol__analyticsIsSupported",aE="__angularfire_symbol__remoteConfigIsSupportedValue",lE="__angularfire_symbol__remoteConfigIsSupported",cE="__angularfire_symbol__messagingIsSupportedValue",uE="__angularfire_symbol__messagingIsSupported";globalThis[oE]||(globalThis[oE]=nX().then(t=>globalThis[sE]=t).catch(()=>globalThis[sE]=!1)),globalThis[uE]||(globalThis[uE]=nO().then(t=>globalThis[cE]=t).catch(()=>globalThis[cE]=!1)),globalThis[lE]||(globalThis[lE]=TQ().then(t=>globalThis[aE]=t).catch(()=>globalThis[aE]=!1));const hE=(t,e)=>{const n=e?[e]:ix(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Oo(){}class _O{constructor(e,n=lX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class uX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yO=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _O(Zone.current)),this.insideAngular=n.run(()=>new _O(Zone.current,cX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(R(oe))},t.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ji(t){return Xi().ngZone.run(()=>t())}function fX(t){return Xi(),function hX(t){return function(n){return(n=n.lift(new uX(t.ngZone))).pipe(Dc(t.outsideAngular),bc(t.insideAngular))}}(Xi())(t)}const pX=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ji(()=>t.apply(void 0,r))},vO=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)))),r[s]=pX(r[s],n));const i=function dX(t){return Xi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof De){const s=Xi();return i.pipe(Dc(s.outsideAngular),bc(s.insideAngular))}return Ji(()=>i)}return i instanceof De?i.pipe(fX):i instanceof Promise?Ji(()=>new Promise((s,o)=>i.then(a=>Ji(()=>s(a)),a=>Ji(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ji(()=>i)};class Fo{constructor(e){return e}}class EO{constructor(){return ix()}}const pE=new T("angularfire2._apps"),mX={provide:Fo,useFactory:function gX(t){return t&&1===t.length?t[0]:new Fo(rx())},deps:[[new xt,pE]]},_X={provide:EO,deps:[[new xt,pE]]};function yX(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Fo(r)}}let vX=(()=>{class t{constructor(n){Le("angularfire",iE.full,"core"),Le("angularfire",iE.full,"app"),Le("angular",sS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(R(ur))},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({providers:[mX,_X]}),t})();function EX(t,...e){return{ngModule:vX,providers:[{provide:pE,useFactory:yX(t),multi:!0,deps:[oe,Et,yO,...e]}]}}const CX=vO(nx,!0),wX_firebase={projectId:"empolyee-8982a",appId:"1:838301836523:web:21c031459adbcd8d5ecaae",databaseURL:"https://empolyee-8982a-default-rtdb.firebaseio.com",storageBucket:"empolyee-8982a.appspot.com",apiKey:"AIzaSyDikEnH77sw9bsHcK72iPE9xvQPbMyVzZA",authDomain:"empolyee-8982a.firebaseapp.com",messagingSenderId:"838301836523"};const IX=function CO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},wO=new qn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vf=new Po("@firebase/auth");function Ef(t,...e){vf.logLevel<=ue.ERROR&&vf.error(`Auth (${Pl}): ${t}`,...e)}function Ut(t,...e){throw gE(t,...e)}function Qn(t,...e){return gE(t,...e)}function gE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wO.create(t,...e)}function I(t,e,...n){if(!t)throw gE(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ef(e),new Error(e)}function ai(t,e){t||Zn(e)}function bO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=Q_()||zk()}get(){return function DX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mE(){return"http:"===bO()||"https:"===bO()}()||Z_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class DO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},AX=new Ll(3e4,6e4);function Pe(t,e,n,r){return yE.apply(this,arguments)}function yE(){return(yE=v(function*(t,e,n,r,i={}){return TO(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ey(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),DO.fetch()(SO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function TO(t,e,n){return vE.apply(this,arguments)}function vE(){return(vE=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SX),e);try{const i=new MX(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Vl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Vl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Vl(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw Vl(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function IO(t,e,n){const r=Object.assign(Object.assign({},IX()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}(t,u,c);Ut(t,u)}}catch(i){if(i instanceof zn)throw i;Ut(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function SO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function _E(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class MX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),AX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function CE(){return(CE=v(function*(t,e){return Pe(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function IE(){return(IE=v(function*(t,e){return Pe(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function bE(){return(bE=v(function*(t,e=!1){const n=ii(t),r=yield n.getIdToken(e),i=Cf(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ul(DE(i.auth_time)),issuedAtTime:Ul(DE(i.iat)),expirationTime:Ul(DE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function DE(t){return 1e3*Number(t)}function Cf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=tf(n);return i?JSON.parse(i):(Ef("Failed to decode base64 JWT payload"),null)}catch(i){return Ef("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Rr(t,e){return TE.apply(this,arguments)}function TE(){return(TE=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof zn&&function OX({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class FX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class AO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jl(t){return SE.apply(this,arguments)}function SE(){return SE=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Rr(t,function PX(t,e){return IE.apply(this,arguments)}(n,{idToken:r}));I(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function UX(t){return t.map(e=>{var{providerId:n}=e,r=Rh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function VX(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new AO(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),SE.apply(this,arguments)}function AE(){return(AE=v(function*(t){const e=ii(t);yield jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ME(){return(ME=v(function*(t,e){const n=yield TO(t,{},v(function*(){const r=ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=SO(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function xX(t){const e=Cf(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function jX(t,e){return ME.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bl;return r&&(I("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return Zn("not implemented")}}function li(t,e){I("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new AO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield Rr(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function kX(t){return bE.apply(this,arguments)}(this,e)}reload(){return function LX(t){return AE.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield jl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield Rr(e,function RX(t,e){return CE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:S,emailVerified:M,isAnonymous:j,providerData:Ve,stsTokenManager:pt}=n;I(S&&pt,e,"internal-error");const Or=Bl.fromJSON(this.name,pt);I("string"==typeof S,e,"internal-error"),li(d,e.name),li(f,e.name),I("boolean"==typeof M,e,"internal-error"),I("boolean"==typeof j,e,"internal-error"),li(h,e.name),li(p,e.name),li(g,e.name),li(m,e.name),li(y,e.name),li(_,e.name);const Ei=new es({uid:S,auth:e,email:f,emailVerified:M,displayName:d,isAnonymous:j,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:Or,createdAt:y,lastLoginAt:_});return Ve&&Array.isArray(Ve)&&(Ei.providerData=Ve.map(XI=>Object.assign({},XI))),m&&(Ei._redirectEventId=m),Ei}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Bl;i.updateFromServerResponse(n);const s=new es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jl(s),s})()}}const MO=new Map;function Nr(t){ai(t instanceof Function,"Expected a class definition");let e=MO.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MO.set(t,e),e)}const RO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function wf(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wf(this.userKey,i.apiKey,s),this.fullPersistenceKey=wf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?es._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Vo(Nr(RO),e,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Nr(RO);const o=wf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=yield c._get(o);if(u){const d=es._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Vo(s,e,r)):new Vo(s,e,r)})()}}function NO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function xO(t=Xt()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function PO(t=Xt()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function FO(t=Xt()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function LO(t=Xt()){return/webos/i.test(t)}(e))return"Webos";if(function RE(t=Xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function kO(t=Xt()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function OO(t=Xt()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function VO(t,e=[]){let n;switch(t){case"Browser":n=NO(Xt());break;case"Worker":n=`${NO(Xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${r}`}function UO(t,e){return PE.apply(this,arguments)}function PE(){return(PE=v(function*(t,e){return Pe(t,"GET","/v2/recaptchaConfig",function Se(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function BO(t){return void 0!==t&&void 0!==t.enterprise}class $O{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class GO{constructor(e){this.type="recaptcha-enterprise",this.auth=Ke(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(c,u){UO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new $O(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,c(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,c){const u=window.grecaptcha;BO(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&BO(window.grecaptcha))o(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));(function kE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function GX(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}class KX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class YX{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WO(this),this.idTokenSubscription=new WO(this),this.beforeStateQueue=new KX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Vo.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield jl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function TX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?ii(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Nr(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield UO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $O(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new GO(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Nr(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Vo.create(n,[Nr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return I(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function bX(t,...e){vf.logLevel<=ue.WARN&&vf.warn(`Auth (${Pl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ke(t){return ii(t)}class WO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function H9(t,e){const n=new G9(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function HO(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Ll(3e4,6e4),new Ll(2e3,1e4),new Ll(3e4,6e4),new Ll(5e3,15e3),encodeURIComponent("fac");var E1="@firebase/auth";class Bee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}nf(),function Hee(t){Dt(new ft("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VO(t)},c=new YX(r,i,s,l);return function ZX(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dt(new ft("auth-internal",e=>{const n=Ke(e.getProvider("auth").getImmediate());return new Bee(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(E1,"0.23.2",function $ee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Le(E1,"0.23.2","esm2017")}("Browser");class b1{constructor(){return hE("auth")}}const Cw=new Map,D1={activated:!1,tokenObservers:[]},Qee={initialized:!1,enabled:!1};function ke(t){return Cw.get(t)||Object.assign({},D1)}function Of(){return Qee}const ww="https://content-firebaseappcheck.googleapis.com/v1",ete="exchangeDebugToken",T1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nte{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new Ro,yield function rte(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ro,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const at=new qn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Iw(t){if(!ke(t).activated)throw at.create("use-before-activation",{appName:t.name})}function Vf(t,e){return Dw.apply(this,arguments)}function Dw(){return Dw=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw at.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw at.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw at.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw at.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}}),Dw.apply(this,arguments)}function S1(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${ww}/projects/${n}/apps/${r}:${ete}?key=${i}`,body:{debug_token:e}}}const ate="firebase-app-check-database",lte=1,zl="firebase-app-check-store";let Uf=null;function Tw(){return Tw=v(function*(t,e){const r=(yield function M1(){return Uf||(Uf=new Promise((t,e)=>{try{const n=indexedDB.open(ate,lte);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(at.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(zl,{keyPath:"compositeKey"})}}catch(n){e(at.create("storage-open",{originalErrorMessage:n?.message}))}}),Uf)}()).transaction(zl,"readwrite"),s=r.objectStore(zl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(at.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),Tw.apply(this,arguments)}const ql=new Po("@firebase/app-check");function Mw(t,e){return Gi()?function ute(t,e){return function R1(t,e){return Tw.apply(this,arguments)}(function P1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{ql.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Nw(){return Of().enabled}function Pw(){return kw.apply(this,arguments)}function kw(){return kw=v(function*(){const t=Of();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kw.apply(this,arguments)}const mte={error:"UNKNOWN_ERROR"};function _te(t){return Jd.encodeString(JSON.stringify(t),!1)}function jf(t){return xw.apply(this,arguments)}function xw(){return xw=v(function*(t,e=!1){const n=t.app;Iw(n);const r=ke(n);let s,i=r.token;if(i&&!jo(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(jo(l)?i=l:yield Mw(n,void 0))}if(!e&&i&&jo(i))return{token:i.token};let a,o=!1;if(Nw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Vf(S1(n,yield Pw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield Mw(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield ke(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?ql.warn(l.message):ql.error(l),s=l}return i?s?a=jo(i)?{token:i.token,internalError:s}:F1(s):(a={token:i.token},r.token=i,yield Mw(n,i)):a=F1(s),o&&function O1(t,e){const n=ke(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),xw.apply(this,arguments)}function Ow(){return Ow=v(function*(t){const e=t.app;Iw(e);const{provider:n}=ke(e);if(Nw()){const r=yield Pw(),{token:i}=yield Vf(S1(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),Ow.apply(this,arguments)}function Lw(t,e){const n=ke(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function x1(t){const{app:e}=t,n=ke(e);let r=n.tokenRefresher;r||(r=function yte(t){const{app:e}=t;return new nte(v(function*(){let r;if(r=ke(e).token?yield jf(t,!0):yield jf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=ke(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},T1.RETRIAL_MIN_WAIT,T1.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function jo(t){return t.expireTimeMillis-Date.now()>0}function F1(t){return{token:_te(mte),error:t}}class vte{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ke(this.app);for(const n of e)Lw(this.app,n.next);return Promise.resolve()}}const G1="app-check-internal";!function kte(){Dt(new ft("app-check",t=>function Ete(t,e){return new vte(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(G1).initialize()})),Dt(new ft(G1,t=>function Cte(t){return{getToken:e=>jf(t,e),getLimitedUseToken:()=>function k1(t){return Ow.apply(this,arguments)}(t),addTokenListener:e=>function Fw(t,e,n,r){const{app:i}=t,s=ke(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&jo(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),x1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>x1(t))}(t,"INTERNAL",e),removeTokenListener:e=>Lw(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Le("@firebase/app-check","0.8.0")}();class z1{constructor(){return hE("app-check")}}typeof window<"u"&&window;const q1="@firebase/database";let $w="";class Ute{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Nl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class jte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return br(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Y1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Ute(e)}}catch{}return new jte},is=Y1("localStorage"),Hw=Y1("sessionStorage"),Bo=new Po("@firebase/database"),Q1=function(){let t=1;return function(){return t++}}(),Z1=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new $9;n.update(e);const r=n.digest();return Jd.encodeByteArray(r)},Kl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Kl.apply(null,r):e+="object"==typeof r?st(r):r,e+=" "}return e};let ss=null,X1=!0;const Ye=function(...t){if(!0===X1&&(X1=!1,null===ss&&!0===Hw.get("logging_enabled")&&function(t,e){b(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Bo.logLevel=ue.VERBOSE,ss=Bo.log.bind(Bo),e&&Hw.set("logging_enabled",!0)):"function"==typeof t?ss=t:(ss=null,Hw.remove("logging_enabled"))}(!0)),ss){const e=Kl.apply(null,t);ss(e)}},Yl=function(t){return function(...e){Ye(t,...e)}},Gw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Kl(...t);Bo.error(e)},Xn=function(...t){const e=`FIREBASE FATAL ERROR: ${Kl(...t)}`;throw Bo.error(e),new Error(e)},ht=function(...t){const e="FIREBASE WARNING: "+Kl(...t);Bo.warn(e)},$f=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ui="[MIN_NAME]",kr="[MAX_NAME]",os=function(t,e){if(t===e)return 0;if(t===ui||e===kr)return-1;if(e===ui||t===kr)return 1;{const n=nF(t),r=nF(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Hte=function(t,e){return t===e?0:t<e?-1:1},Ql=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+st(e))},Ww=function(t){if("object"!=typeof t||null===t)return st(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=st(e[r]),n+=":",n+=Ww(t[e[r]]);return n+="}",n},eF=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tF=function(t){b(!$f(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},qte=new RegExp("^-?(0*)\\d{1,10}$"),nF=function(t){if(qte.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},$o=function(t){try{t()}catch(e){setTimeout(()=>{throw ht("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Zl=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Zte{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xte{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Ye("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ht(e)}}let Xl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const aF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uF="websocket",dF="long_polling";class qw{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function fF(t,e,n){let r;if(b("string"==typeof e,"typeof type must == string"),b("object"==typeof n,"typeof params must == object"),e===uF)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==dF)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Jte(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class ene{constructor(){this.counters_={}}incrementCounter(e,n=1){br(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return T9(this.counters_)}}const Kw={},Yw={};function Qw(t){const e=t.toString();return Kw[e]||(Kw[e]=new ene),Kw[e]}class nne{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$o(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class di{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yl(e),this.stats_=Qw(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),fF(n,dF,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new nne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zw((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&aF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){di.forceAllow_=!0}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){return!(!di.forceAllow_&&(di.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hk(n),i=eF(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=st(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Zw{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Q1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Zw.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ye("frame writing exception"),a.stack&&Ye(a.stack),Ye(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ye("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ye("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Gf=null;typeof MozWebSocket<"u"?Gf=MozWebSocket:typeof WebSocket<"u"&&(Gf=WebSocket);let Ho=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yl(this.connId),this.stats_=Qw(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&aF.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),fF(n,uF,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Gf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Gf&&!t.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||!0===is.get("previous_websocket_failure")}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Nl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=st(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=eF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),vF=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[di,Ho]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Ho&&Ho.isAvailable();let i=r&&!Ho.previouslyFailed();if(n.webSocketOnly&&(r||ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ho];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class TF{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yl("c:"+this.id+":"),this.transportManager_=new vF(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ql("t",e),r=Ql("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ql("t",e),r=Ql("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ql("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Gw("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class SF{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class AF{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){b(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Wf extends AF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wf}getInitialEvent(e){return b("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ie{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function ee(){return new ie("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fi(t){return t.pieces_.length-t.pieceNum_}function pe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function Jw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Jl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function NF(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function be(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function W(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){const n=G(t),r=G(e);if(null===n)return e;if(n===r)return St(pe(t),pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function eI(t,e){if(fi(t)!==fi(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(fi(t)>fi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Dne{constructor(e,n){this.errorPrefix_=n,this.parts_=Jl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lf(this.parts_[r]);PF(this)}}function PF(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+as(t))}function as(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class tI extends AF{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new tI}getInitialEvent(e){return b("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ec=1e3;let qf,ls=(()=>{class t extends SF{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ec,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tI.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Wf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(st(o)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Ro,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&br(n,"w")){const i=No(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=rf(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=rf(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+st(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Gw("Unrecognized action received from server: "+st(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ec,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ec,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ec),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return v(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};n.realtime_={close:u,sendRequest:function(h){b(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,p]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);l?Ye("getToken() completed but was canceled"):(Ye("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=p&&p.token,c=new TF(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{ht(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),l||(n.repoInfo_.nodeAdmin&&ht(h),u())}}})()}interrupt(n){Ye("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ye("Resuming connection for reason: "+n),delete this.interruptReasons_[n],qk(this.interruptReasons_)&&(this.reconnectDelay_=ec,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>Ww(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ie(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Ye("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ye("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+$w.replace(/\./g,"-")]=1,Q_()?n["framework.cordova"]=1:zk()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Wf.getInstance().currentlyOnline();return qk(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}class zf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new z(ui,e),i=new z(ui,n);return 0!==this.compare(r,i)}minPost(){return z.MIN}}class OF extends zf{static get __EMPTY_NODE(){return qf}static set __EMPTY_NODE(e){qf=e}compare(e,n){return os(e.name,n.name)}isDefinedOn(e){throw Mo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(kr,qf)}makePost(e,n){return b("string"==typeof e,"KeyIndex indexValue must always be a string."),new z(e,qf)}toString(){return".key"}}const Jn=new OF;class Kf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let rI,Tn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??jt.EMPTY_NODE,this.right=o??jt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return jt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return jt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class jt{constructor(e,n=jt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new jt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tn.BLACK,null,null))}remove(e){return new jt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kf(this.root_,null,this.comparator_,!0,e)}}function kne(t,e){return os(t.name,e.name)}function nI(t,e){return os(t,e)}jt.EMPTY_NODE=new class Pne{copy(e,n,r,i,s){return this}insert(e,n,r){return new Tn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const FF=function(t){return"number"==typeof t?"number:"+tF(t):"string:"+t},LF=function(t){if(t.isLeafNode()){const e=t.val();b("string"==typeof e||"number"==typeof e||"object"==typeof e&&br(e,".sv"),"Priority must be a string or number.")}else b(t===rI||t.isEmpty(),"priority of unexpected type.");b(t===rI||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VF,UF,jF,Go=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,b(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),LF(this.priorityNode_)}static set __childrenNodeConstructor(n){VF=n}static get __childrenNodeConstructor(){return VF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:".priority"===G(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=G(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(b(".priority"!==i||1===fi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+FF(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?tF(this.value_):this.value_,this.lazyHash_=Z1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+r),b(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Ee=new class Lne extends zf{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?os(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(kr,new Go("[PRIORITY-POST]",jF))}makePost(e,n){const r=UF(e);return new z(n,new Go("[PRIORITY-POST]",r))}toString(){return".priority"}},Vne=Math.log(2);class Une{constructor(e){this.count=parseInt(Math.log(e+1)/Vne,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yf=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(0===u)return null;if(1===u)return d=t[l],f=n?n(d):d,new Tn(f,d.node,Tn.BLACK,null,null);{const h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=t[h],f=n?n(d):d,new Tn(f,d.node,Tn.BLACK,p,g)}},a=function(l){let c=null,u=null,d=t.length;const f=function(p,g){const m=d-p,y=d;d-=p;const _=i(m+1,y),S=t[m],M=n?n(S):S;h(new Tn(M,S.node,g,null,_))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?f(m,Tn.BLACK):(f(m,Tn.BLACK),f(m,Tn.RED))}return u}(new Une(t.length));return new jt(r||e,a)};let iI;const Wo={};class xr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return b(Wo&&Ee,"ChildrenNode.ts has not been loaded"),iI=iI||new xr({".priority":Wo},{".priority":Ee}),iI}get(e){const n=No(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof jt?n:null}hasIndex(e){return br(this.indexSet_,e.toString())}addIndex(e,n){b(e!==Jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(z.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Yf(r,e.getCompare()):Wo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new xr(u,c)}addToIndexes(e,n){const r=sf(this.indexes_,(i,s)=>{const o=No(this.indexSet_,s);if(b(o,"Missing index implementation for "+s),i===Wo){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(z.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Yf(a,o.getCompare())}return Wo}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new z(e.name,a))),l.insert(e,e.node)}});return new xr(r,this.indexSet_)}removeFromIndexes(e,n){const r=sf(this.indexes_,i=>{if(i===Wo)return i;{const s=n.get(e.name);return s?i.remove(new z(e.name,s)):i}});return new xr(r,this.indexSet_)}}let tc,$=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LF(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tc||(tc=new t(new jt(nI),null,xr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tc}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?tc:r}}getChild(n){const r=G(n);return null===r?this:this.getImmediateChild(r).getChild(pe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(b(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new z(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?tc:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=G(n);if(null===i)return r;{b(".priority"!==G(n)||1===fi(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(pe(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ee,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+FF(this.getPriority().val())+":"),this.forEachChild(Ee,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":Z1(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new z(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new z(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new z(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,z.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,z.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===nc?-1:0}withIndex(n){if(n===Jn||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Jn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ee),s=r.getIterator(Ee);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===Jn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const nc=new class jne extends ${constructor(){super(new jt(nI),$.EMPTY_NODE,xr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(z,{MIN:{value:new z(ui,$.EMPTY_NODE)},MAX:{value:new z(kr,nc)}}),OF.__EMPTY_NODE=$.EMPTY_NODE,Go.__childrenNodeConstructor=$,function xne(t){rI=t}(nc),function Fne(t){jF=t}(nc);const Bne=!0;function Ae(t,e=null){if(null===t)return $.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),b(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Go(t,Ae(e));if(t instanceof Array||!Bne){let n=$.EMPTY_NODE;return Qe(t,(r,i)=>{if(br(t,r)&&"."!==r.substring(0,1)){const s=Ae(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ae(e))}{const n=[];let r=!1;if(Qe(t,(o,a)=>{if("."!==o.substring(0,1)){const l=Ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new z(o,l)))}}),0===n.length)return $.EMPTY_NODE;const s=Yf(n,kne,o=>o.name,nI);if(r){const o=Yf(n,Ee.getCompare());return new $(s,Ae(e),new xr({".priority":o},{".priority":Ee}))}return new $(s,Ae(e),xr.Default)}}!function One(t){UF=t}(Ae);class sI extends zf{constructor(e){super(),this.indexPath_=e,b(!W(e)&&".priority"!==G(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?os(e.name,n.name):s}makePost(e,n){const r=Ae(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,i)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,nc);return new z(kr,e)}toString(){return Jl(this.indexPath_,0).join("/")}}const oI=new class $ne extends zf{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?os(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const r=Ae(e);return new z(n,r)}toString(){return".value"}};function ic(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class lI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ee}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ui}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ee}copy(){const e=new lI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $F(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ee?n="$priority":t.index_===oI?n="$value":t.index_===Jn?n="$key":(b(t.index_ instanceof sI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=st(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=st(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+st(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=st(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+st(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function HF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Ee&&(e.i=t.index_.toString()),e}class Zf extends SF{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zf.getListenId_(e,r),a={};this.listens_[o]=a;const l=$F(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),No(this.listens_,o)===a){let f;f=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(f,null)}})}unlisten(e,n){const r=Zf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=$F(e._queryParams),r=e._path.toString(),i=new Ro;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ey(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Nl(a.responseText)}catch{ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Qne{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Xf(){return{value:null,children:new Map}}function qo(t,e,n){if(W(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=G(e);t.children.has(r)||t.children.set(r,Xf()),qo(t.children.get(r),e=pe(e),n)}}function fI(t,e,n){null!==t.value?n(e,t.value):function Zne(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{fI(i,new ie(e.toString()+"/"+r),n)})}class Xne{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class tre{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xne(e);const r=1e4+2e4*Math.random();Zl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qe(e,(i,s)=>{s>0&&br(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Zl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var er=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(er||{});function gI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Jf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=er.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(W(this.path)){if(null!=this.affectedTree.value)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ie(e));return new Jf(ee(),n,this.revert)}}return b(G(this.path)===e,"operationForChild called for unrelated child."),new Jf(pe(this.path),this.affectedTree,this.revert)}}class cs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=er.OVERWRITE}operationForChild(e){return W(this.path)?new cs(this.source,ee(),this.snap.getImmediateChild(e)):new cs(this.source,pe(this.path),this.snap)}}class Ko{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=er.MERGE}operationForChild(e){if(W(this.path)){const n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new cs(this.source,ee(),n.value):new Ko(this.source,ee(),n)}return b(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ko(this.source,pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(W(e))return this.isFullyInitialized()&&!this.filtered_;const n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function ac(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function sre(t,e,n){if(null==e.childName||null==n.childName)throw Mo("Should only compare child_ events.");const r=new z(e.childName,e.snapshotNode),i=new z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function ire(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function eh(t,e){return{eventCache:t,serverCache:e}}function lc(t,e,n,r){return eh(new hi(e,n,r),t.serverCache)}function WF(t,e,n,r){return eh(t.eventCache,new hi(e,n,r))}function th(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function us(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let mI;class Ce{constructor(e,n=(()=>(mI||(mI=new jt(Hte)),mI))()){this.value=e,this.children=n}static fromObject(e){let n=new Ce(null);return Qe(e,(r,i)=>{n=n.set(new ie(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:ee(),value:this.value};if(W(e))return null;{const r=G(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(pe(e),n);return null!=s?{path:be(new ie(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(W(e))return this;{const n=G(e),r=this.children.get(n);return null!==r?r.subtree(pe(e)):new Ce(null)}}set(e,n){if(W(e))return new Ce(n,this.children);{const r=G(e),s=(this.children.get(r)||new Ce(null)).set(pe(e),n),o=this.children.insert(r,s);return new Ce(this.value,o)}}remove(e){if(W(e))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=G(e),r=this.children.get(n);if(r){const i=r.remove(pe(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Ce(null):new Ce(this.value,s)}return this}}get(e){if(W(e))return this.value;{const n=G(e),r=this.children.get(n);return r?r.get(pe(e)):null}}setTree(e,n){if(W(e))return n;{const r=G(e),s=(this.children.get(r)||new Ce(null)).setTree(pe(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ce(this.value,o)}}fold(e){return this.fold_(ee(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ee(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(W(e))return null;{const s=G(e),o=this.children.get(s);return o?o.findOnPath_(pe(e),be(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ee(),n)}foreachOnPath_(e,n,r){if(W(e))return this;{this.value&&r(n,this.value);const i=G(e),s=this.children.get(i);return s?s.foreachOnPath_(pe(e),be(n,i),r):new Ce(null)}}foreach(e){this.foreach_(ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Sn{constructor(e){this.writeTree_=e}static empty(){return new Sn(new Ce(null))}}function cc(t,e,n){if(W(e))return new Sn(new Ce(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=St(i,e);return s=s.updateChild(o,n),new Sn(t.writeTree_.set(i,s))}{const i=new Ce(n),s=t.writeTree_.setTree(e,i);return new Sn(s)}}}function _I(t,e,n){let r=t;return Qe(n,(i,s)=>{r=cc(r,be(e,i),s)}),r}function zF(t,e){if(W(e))return Sn.empty();{const n=t.writeTree_.setTree(e,new Ce(null));return new Sn(n)}}function yI(t,e){return null!=ds(t,e)}function ds(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function qF(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ee,(r,i)=>{e.push(new z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new z(r,i.value))}),e}function pi(t,e){if(W(e))return t;{const n=ds(t,e);return new Sn(null!=n?new Ce(n):t.writeTree_.subtree(e))}}function vI(t){return t.writeTree_.isEmpty()}function Yo(t,e){return KF(ee(),t.writeTree_,e)}function KF(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(b(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=KF(be(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(be(t,".priority"),r)),n}}function nh(t,e){return JF(e,t)}function dre(t,e){if(t.snap)return fn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fn(be(t.path,n),e))return!0;return!1}function hre(t){return t.visible}function YF(t,e,n){let r=Sn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)fn(n,o)?(a=St(n,o),r=cc(r,a,s.snap)):fn(o,n)&&(a=St(o,n),r=cc(r,ee(),s.snap.getChild(a)));else{if(!s.children)throw Mo("WriteRecord should have .snap or .children");if(fn(n,o))a=St(n,o),r=_I(r,a,s.children);else if(fn(o,n))if(a=St(o,n),W(a))r=_I(r,ee(),s.children);else{const l=No(s.children,G(a));if(l){const c=l.getChild(pe(a));r=cc(r,ee(),c)}}}}}return r}function QF(t,e,n,r,i){if(r||i){const s=pi(t.visibleWrites,e);return!i&&vI(s)?n:i||null!=n||yI(s,ee())?Yo(YF(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(fn(c.path,e)||fn(e,c.path))},e),n||$.EMPTY_NODE):null}{const s=ds(t.visibleWrites,e);if(null!=s)return s;{const o=pi(t.visibleWrites,e);return vI(o)?n:null!=n||yI(o,ee())?Yo(o,n||$.EMPTY_NODE):null}}}function rh(t,e,n,r){return QF(t.writeTree,t.treePath,e,n,r)}function EI(t,e){return function pre(t,e,n){let r=$.EMPTY_NODE;const i=ds(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ee,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=pi(t.visibleWrites,e);return n.forEachChild(Ee,(o,a)=>{const l=Yo(pi(s,new ie(o)),a);r=r.updateImmediateChild(o,l)}),qF(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return qF(pi(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function ZF(t,e,n,r){return function gre(t,e,n,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=be(e,n);if(yI(t.visibleWrites,s))return null;{const o=pi(t.visibleWrites,s);return vI(o)?i.getChild(n):Yo(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function ih(t,e){return function _re(t,e){return ds(t.visibleWrites,e)}(t.writeTree,be(t.treePath,e))}function CI(t,e,n){return function mre(t,e,n,r){const i=be(e,n),s=ds(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Yo(pi(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function XF(t,e){return JF(be(t.treePath,e),t.writeTree)}function JF(t,e){return{treePath:t,writeTree:e}}class Cre{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;b("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),b(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,ic(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function rc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function zo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Mo("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,ic(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const eL=new class wre{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class wI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new hi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:us(this.viewCache_),s=function Ere(t,e,n,r,i,s){return function yre(t,e,n,r,i,s,o){let a;const l=pi(t.visibleWrites,e),c=ds(l,ee());if(null!=c)a=c;else{if(null==n)return[];a=Yo(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<i;)0!==d(h,r)&&u.push(h),h=f.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function tL(t,e,n,r,i,s){const o=e.eventCache;if(null!=ih(r,n))return e;{let a,l;if(W(n))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=us(e),d=EI(r,c instanceof $?c:$.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=rh(r,us(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=G(n);if(".priority"===c){b(1===fi(n),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=ZF(r,n,u,l);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=pe(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=ZF(r,n,o.getNode(),l);d=null!=f?o.getNode().getImmediateChild(c).updateChild(u,f):o.getNode().getImmediateChild(c)}else d=CI(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return lc(e,a,o.isFullyInitialized()||W(n),t.filter.filtersNodes())}}function sh(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(W(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=G(n);if(!l.isCompleteForPath(n)&&fi(n)>1)return e;const p=pe(n),m=l.getNode().getImmediateChild(h).updateChild(p,r);c=".priority"===h?u.updatePriority(l.getNode(),m):u.updateChild(l.getNode(),h,m,p,eL,null)}const d=WF(e,c,l.isFullyInitialized()||W(n),u.filtersNodes());return tL(t,d,n,i,new wI(i,d,s),a)}function II(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new wI(i,e,s);if(W(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lc(e,c,!0,t.filter.filtersNodes());else{const d=G(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),l=lc(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=pe(n),h=a.getNode().getImmediateChild(d);let p;if(W(f))p=r;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===Jw(f)&&g.getChild(NF(f)).isEmpty()?g:g.updateChild(f,r):$.EMPTY_NODE}l=h.equals(p)?e:lc(e,t.filter.updateChild(a.getNode(),d,p,f,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function nL(t,e){return t.eventCache.isCompleteForChild(e)}function rL(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function bI(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=W(n)?r:new Ce(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=rL(0,e.serverCache.getNode().getImmediateChild(d),f);l=sh(t,l,new ie(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&null===f.value;if(!u.hasChild(d)&&!h){const g=rL(0,e.serverCache.getNode().getImmediateChild(d),f);l=sh(t,l,new ie(d),g,i,s,o,a)}}),l}function xre(t,e){const n=us(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!W(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function oL(t,e,n,r){e.type===er.MERGE&&null!==e.source.queryId&&(b(us(t.viewCache_),"We should always have a full cache before handling merges"),b(th(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function Dre(t,e,n,r,i){const s=new Cre;let o,a;if(n.type===er.OVERWRITE){const c=n;c.source.fromUser?o=II(t,e,c.path,c.snap,r,i,s):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!W(c.path),o=sh(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===er.MERGE){const c=n;c.source.fromUser?o=function Sre(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=be(n,l);nL(e,G(u))&&(a=II(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=be(n,l);nL(e,G(u))||(a=II(t,a,u,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=bI(t,e,c.path,c.children,r,i,a,s))}else if(n.type===er.ACK_USER_WRITE){const c=n;o=c.revert?function Rre(t,e,n,r,i,s){let o;if(null!=ih(r,n))return e;{const a=new wI(r,e,i),l=e.eventCache.getNode();let c;if(W(n)||".priority"===G(n)){let u;if(e.serverCache.isFullyInitialized())u=rh(r,us(e));else{const d=e.serverCache.getNode();b(d instanceof $,"serverChildren would be complete if leaf node"),u=EI(r,d)}c=t.filter.updateFullNode(l,u,s)}else{const u=G(n);let d=CI(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?t.filter.updateChild(l,u,d,pe(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(l,u,$.EMPTY_NODE,pe(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=rh(r,us(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=ih(r,ee()),lc(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function Are(t,e,n,r,i,s,o){if(null!=ih(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(W(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return sh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(W(n)){let c=new Ce(null);return l.getNode().forEachChild(Jn,(u,d)=>{c=c.set(new ie(u),d)}),bI(t,e,n,c,i,s,a,o)}return e}{let c=new Ce(null);return r.foreach((u,d)=>{const f=be(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),bI(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==er.LISTEN_COMPLETE)throw Mo("Unknown operation type: "+n.type);o=function Mre(t,e,n,r,i){const s=e.serverCache;return tL(t,WF(e,s.getNode(),s.isFullyInitialized()||W(n),s.isFiltered()),n,r,eL,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function Tre(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=th(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function BF(t){return{type:"value",snapshotNode:t}}(th(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function bre(t,e){b(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),b(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function aL(t,e,n,r){return function rre(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function Hne(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),ac(t,i,"child_removed",e,r,n),ac(t,i,"child_added",e,r,n),ac(t,i,"child_moved",s,r,n),ac(t,i,"child_changed",e,r,n),ac(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let oh,lh;function DI(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return b(null!=s,"SyncTree gave us an op for an invalid query."),oL(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(oL(o,e,n,r));return s}}function gi(t,e){let n=null;for(const r of t.views.values())n=n||xre(r,e);return n}class hL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=function vre(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TI(t,e,n,r,i){return function are(t,e,n,r,i){b(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=cc(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Qo(t,new cs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function _i(t,e,n=!1){const r=function cre(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function ure(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);b(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&dre(a,r.path)?i=!1:fn(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function fre(t){t.visibleWrites=YF(t.allWrites,hre,ee()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=zF(t.visibleWrites,r.path):Qe(r.children,l=>{t.visibleWrites=zF(t.visibleWrites,be(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new Ce(null);return null!=r.snap?s=s.set(ee(),!0):Qe(r.children,o=>{s=s.set(new ie(o),!0)}),Qo(t,new Jf(r.path,s,n))}return[]}function uc(t,e,n){return Qo(t,new cs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function uh(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=gi(a,St(o,e));if(c)return c});return QF(i,e,s,n,!0)}function Qo(t,e){return gL(e,t.syncPointTree_,null,nh(t.pendingWriteTree_,ee()))}function gL(t,e,n,r){if(W(t.path))return mL(t,e,n,r);{const i=e.get(ee());null==n&&null!=i&&(n=gi(i,ee()));let s=[];const o=G(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=XF(r,o);s=s.concat(gL(a,l,c,u))}return i&&(s=s.concat(DI(i,t,r,n))),s}}function mL(t,e,n,r){const i=e.get(ee());null==n&&null!=i&&(n=gi(i,ee()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=XF(r,o),u=t.operationForChild(o);u&&(s=s.concat(mL(u,a,l,c)))}),i&&(s=s.concat(DI(i,t,r,n))),s}function AI(t,e){return t.tagToQueryMap.get(e)}function MI(t){const e=t.indexOf("$");return b(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function RI(t,e,n){const r=t.syncPointTree_.get(e);return b(r,"Missing sync point for query tag that we're tracking"),DI(r,n,nh(t.pendingWriteTree_,e),null)}class NI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new NI(n)}node(){return this.node_}}class PI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=be(this.path_,e);return new PI(this.syncTree_,n)}node(){return uh(this.syncTree_,this.path_)}}const tie=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},yL=function(t,e,n){return t&&"object"==typeof t?(b(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?nie(t[".sv"],e,n):"object"==typeof t[".sv"]?rie(t[".sv"],e):void b(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},nie=function(t,e,n){if("timestamp"===t)return n.timestamp;b(!1,"Unexpected server value: "+t)},rie=function(t,e,n){t.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&b(!1,"Unexpected increment value: "+r);const i=e.node();if(b(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},vL=function(t,e,n,r){return xI(e,new PI(n,t),r)},kI=function(t,e,n){return xI(t,new NI(e),n)};function xI(t,e,n){const r=t.getPriority().val(),i=yL(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=yL(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Go(a,Ae(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Go(i))),o.forEachChild(Ee,(a,l)=>{const c=xI(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class OI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function fh(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=G(n);for(;null!==i;){const s=No(r.node.children,i)||{children:{},childCount:0};r=new OI(i,r,s),n=pe(n),i=G(n)}return r}function fs(t){return t.node.value}function FI(t,e){t.node.value=e,LI(t)}function EL(t){return t.node.childCount>0}function hh(t,e){Qe(t.node.children,(n,r)=>{e(new OI(n,t,r))})}function CL(t,e,n,r){n&&!r&&e(t),hh(t,i=>{CL(i,e,!0,r)}),n&&r&&e(t)}function hc(t){return new ie(null===t.parent?t.name:hc(t.parent)+"/"+t.name)}function LI(t){null!==t.parent&&function oie(t,e,n){const r=function iie(t){return void 0===fs(t)&&!EL(t)}(n),i=br(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,LI(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,LI(t))}(t.parent,t.name,t)}const aie=/[\[\].#$\/\u0000-\u001F\u007F]/,lie=/[\[\].#$\u0000-\u001F\u007F]/,VI=10485760,ph=function(t){return"string"==typeof t&&0!==t.length&&!aie.test(t)},gc=function(t,e,n){const r=n instanceof ie?new Dne(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+as(r));if("function"==typeof e)throw new Error(t+"contains a function "+as(r)+" with contents = "+e.toString());if($f(e))throw new Error(t+"contains "+e.toString()+" "+as(r));if("string"==typeof e&&e.length>VI/3&&lf(e)>VI)throw new Error(t+"contains a string greater than "+VI+" utf8 bytes "+as(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Qe(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!ph(o)))throw new Error(t+" contains an invalid key ("+o+") "+as(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Tne(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lf(e),PF(t)})(r,o),gc(t,a,r),function Sne(t){const e=t.parts_.pop();t.byteLength_-=lf(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+as(r)+" in addition to actual children.")}},bL=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ph(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!lie.test(t)}(t)}(n))throw new Error(function af(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jt(t,e,n){(function gh(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!eI(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function TL(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(hie(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>fn(r,e)||fn(e,r))}function hie(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();ss&&Ye("event: "+n.toString()),$o(r)}}}const pie=25;class gie{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xf(),this.transactionQueueTree_=new OI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function AL(t){const n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function _c(t){return tie({timestamp:AL(t)})}function ML(t,e,n,r,i){t.dataUpdateCount++;const s=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=sf(n,c=>Ae(c));o=function Yre(t,e,n,r){const i=AI(t,r);if(i){const s=MI(i),o=s.path,a=s.queryId,l=St(o,e),c=Ce.fromObject(n);return RI(t,o,new Ko(gI(a),l,c))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=Ae(n);o=function pL(t,e,n,r){const i=AI(t,r);if(null!=i){const s=MI(i),o=s.path,a=s.queryId,l=St(o,e);return RI(t,o,new cs(gI(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=sf(n,c=>Ae(c));o=function zre(t,e,n){const r=Ce.fromObject(n);return Qo(t,new Ko({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=Ae(n);o=uc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Xo(t,s)),Jt(t.eventQueue_,a,o)}function RL(t,e){BI(t,"connected",e),!1===e&&function Eie(t){Zo(t,"onDisconnectEvents");const e=_c(t),n=Xf();fI(t.onDisconnect_,ee(),(i,s)=>{const o=vL(i,s,t.serverSyncTree_,e);qo(n,i,o)});let r=[];fI(n,ee(),(i,s)=>{r=r.concat(uc(t.serverSyncTree_,i,s));const o=function WI(t,e){const n=hc(kL(t,e)),r=fh(t.transactionQueueTree_,e);return function sie(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{zI(t,i)}),zI(t,r),CL(r,i=>{zI(t,i)}),n}(t,i);Xo(t,o)}),t.onDisconnect_=Xf(),Jt(t.eventQueue_,ee(),r)}(t)}function BI(t,e,n){const r=new ie("/.info/"+e),i=Ae(n);t.infoData_.updateSnapshot(r,i);const s=uc(t.infoSyncTree_,r,i);Jt(t.eventQueue_,r,s)}function mh(t){return t.nextWriteId_++}function Zo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ye(n,...e)}function GI(t,e,n){return uh(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function _h(t,e=t.transactionQueueTree_){if(e||yh(t,e),fs(e)){const n=xL(t,e);b(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Sie(t,e,n){const r=n.map(c=>c.currentWriteId),i=GI(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];b(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=St(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Zo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(_i(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();yh(t,fh(t.transactionQueueTree_,e)),_h(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)$o(d[f])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{ht("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Xo(t,e)}},o)}(t,hc(e),n)}else EL(e)&&hh(e,n=>{_h(t,n)})}function Xo(t,e){const n=kL(t,e),r=hc(n);return function Aie(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=St(n,l.path);let d,u=!1;if(b(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(_i(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=pie)u=!0,d="maxretry",i=i.concat(_i(t.serverSyncTree_,l.currentWriteId,!0));else{const f=GI(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(void 0!==h){gc("transaction failed: Data returned ",h,l.path);let p=Ae(h);"object"==typeof h&&null!=h&&br(h,".priority")||(p=p.updatePriority(f.getPriority()));const m=l.currentWriteId,y=_c(t),_=kI(p,f,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=mh(t),o.splice(o.indexOf(m),1),i=i.concat(TI(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),i=i.concat(_i(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(_i(t.serverSyncTree_,l.currentWriteId,!0))}Jt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}yh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$o(r[a]);_h(t,t.transactionQueueTree_)}(t,xL(t,n),r),r}function kL(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);null!==n&&void 0===fs(r);)r=fh(r,n),n=G(e=pe(e));return r}function xL(t,e){const n=[];return OL(t,e,n),n.sort((r,i)=>r.order-i.order),n}function OL(t,e,n){const r=fs(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);hh(e,i=>{OL(t,i,n)})}function yh(t,e){const n=fs(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,FI(e,n.length>0?n:void 0)}hh(e,r=>{yh(t,r)})}function zI(t,e){const n=fs(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(b(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(b(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_i(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?FI(e,void 0):n.length=s+1,Jt(t.eventQueue_,hc(e),i);for(let o=0;o<r.length;o++)$o(r[o])}}const qI=function(t,e){const n=Nie(t),r=n.namespace;return"firebase.com"===n.domain&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qw(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ie(n.pathString)}},Nie=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function Mie(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const f=function Rie(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ht(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class en{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:Jw(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const e=HF(this._queryParams),n=Ww(e);return"{}"===n?"default":n}get _queryObject(){return HF(this._queryParams)}isEqual(e){if(!((e=ii(e))instanceof en))return!1;const n=this._repo===e._repo,r=eI(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ine(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class An extends en{constructor(e,n){super(e,n,new lI,!1)}get parent(){const e=NF(this._path);return null===e?null:new An(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Lre(t){b(!oh,"__referenceConstructor has already been defined"),oh=t})(An),function $re(t){b(!lh,"__referenceConstructor has already been defined"),lh=t}(An);const YI={};class Zie{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function mie(t,e,n){if(t.stats_=Qw(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Zf(t.repoInfo_,(r,i,s,o)=>{ML(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>RL(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ls(t.repoInfo_,e,(r,i,s,o)=>{ML(t,r,i,s,o)},r=>{RL(t,r)},r=>{!function _ie(t,e){Qe(e,(n,r)=>{BI(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function tne(t,e){const n=t.toString();return Yw[n]||(Yw[n]=e()),Yw[n]}(t.repoInfo_,()=>new tre(t.stats_,t.server_)),t.infoData_=new Qne,t.infoSyncTree_=new hL({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=uc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),BI(t,"connected",!1),t.serverSyncTree_=new hL({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Jt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,ee())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Kie(t,e){const n=YI[e];(!n||n[t.key]!==t)&&Xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function PL(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xn("Cannot call "+e+" on a deleted database.")}}function Xie(t=rx(),e){const n=df(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=nf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("database");r&&function Jie(t,e,n,r={}){(t=ii(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Xn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xl(Xl.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:function O9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ef(JSON.stringify({alg:"none",type:"JWT"})),ef(JSON.stringify(o)),""].join(".")}(r.mockUserToken,t.app.options.projectId);s=new Xl(o)}!function zie(t,e,n,r){t.repoInfo_=new qw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}ls.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},ls.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function ese(t){(function Vte(t){$w=t})(Pl),Dt(new ft("database",(e,{instanceIdentifier:n})=>function qie(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ye("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=qI(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=qI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new Xl(Xl.OWNER):new Xte(t.name,t.options,e);bL("Invalid Firebase Database URL",o),W(o.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Yie(t,e,n,r){let i=YI[e.name];i||(i={},YI[e.name]=i);let s=i[t.toURLString()];return s&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new gie(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,u,new Zte(t.name,n));return new Zie(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Le(q1,"0.14.4",t),Le(q1,"0.14.4","esm2017")}();class QI{constructor(e){return e}}const GL="database",ZI=new T("angularfire2.database-instances");function sse(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new QI(r)}}const ose={provide:class rse{constructor(){return hE(GL)}},deps:[[new xt,ZI]]},ase={provide:QI,useFactory:function ise(t,e){const n=function fE(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(GL,t,e);return n&&new QI(n)},deps:[[new xt,ZI],Fo]};let lse=(()=>{class t{constructor(){Le("angularfire",iE.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ht({type:t}),t.\u0275inj=Mt({providers:[ase,ose]}),t})();function cse(t,...e){return{ngModule:lse,providers:[{provide:ZI,useFactory:sse(t),multi:!0,deps:[oe,Et,yO,EO,[new xt,b1],[new xt,z1],...e]}]}}const use=vO(Xie,!0);let dse=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Ht({type:t,bootstrap:[I9]}),t.\u0275inj=Mt({providers:[jk],imports:[s8,W5,$7,h9,EX(()=>CX(wX_firebase)),cse(()=>use())]}),e})();r8().bootstrapModule(dse).catch(t=>console.error(t))}},de=>{de(de.s=450)}]);